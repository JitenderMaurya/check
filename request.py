import requests
#from pydantic import BaseModel
import pdb
import json

#class DescriptionRequest(BaseModel):
#    user_description: str

# Base URL of your FastAPI app
BASE_URL = "http://10.112.115.25:8000"  # Change this if your app is hosted elsewhere

proxies = {
    "http": None,
    "https": None
}

'''

# Test /isSufficientUserDescription endpoint
description_payload = {
    "user_description": "I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London"
}

description_response = requests.post(
    f"{BASE_URL}/isSufficientUserDescription",
    json=description_payload
)

print("\nResponse from /isSufficientUserDescription:")
print(description_response.text)

#OUTPUT-------->Response from /isSufficientUserDescription:
#{"Question 1":"Yes","Question 2":"Yes","Question 3":"Yes","Question 4":"No"}

# Test /isSufficientUserDescription endpoint
#@app.post('/restructure_user_description')
#async def restructure_user_description(description: StringSchema):
#    return restructure_user_description(description)

description_payload = {
    "user_description": "I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London"}

description_response2 = requests.post(
    f"{BASE_URL}/restructure_user_description",
    json=description_payload
)

print("\nResponse from /restructure_user_description:")
print(description_response2.text)

#  update_financial_model............pay load
description_payload = {
    "current_logic":str({"financial_model_structure":{"1. Output": [ "1.1 Control Panel", "1.2 Financial Output"], "2. Financial_Statements" : ["2.1 Profit and Loss Statement", "2.2 Balance Sheet", "2.3 Cashflow Statement"], "3. Calculations" : ["3.1 User Base","3.2 Revenue","3.3 Cost","3.4 CapEx","3.5 Depreciation","3.6 Debt Financing"]}}),
    "user_input":"add a step 'overall display' in Output"
}

description_response3 = requests.post(
    f"{BASE_URL}/update_financial_model",
    json=description_payload
)

print("\nResponse from /update_financial_model")
print(description_response3.text)
'''


# User BAse logic...........pay load
description_payload = {
    "user_description":"I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London",
    "user_base_start_month_init":"January",
    "user_base_end_month_init":"December",
    "user_base_year_init":"2025"
}

description_response4 = requests.post(
    f"{BASE_URL}/get_user_base_logic",
    json=description_payload
)

print("\nResponse from /get_user_base_logic")
ub_logic =json.loads(description_response4.text)['user_base_logic']
print("Initial Output",ub_logic)
#pdb.set_trace()
'''

description_payload_time = {
    "interval":"halfyearly",
    "years":[2025, 2026, 2027],
    "start_month":"March",
    "end_month":"November"
}
description_response_time = requests.post(
    f"{BASE_URL}/get_time_info",
    json=description_payload_time)

print("\nResponse from /get_time_info")
print(description_response_time.text)


'''



#  Update User BAse logic...........pay load
description_payload = {
    "current_logic":str(ub_logic),
    "user_input":"Make this formula more compact",
    "user_description":"I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London"
}

description_response5 = requests.post(
    f"{BASE_URL}/update_user_base_logic",
    json=description_payload
)

print("\nResponse from /update_user_base_logic")
print(description_response4.text)
ub_logic_u1 =json.loads(description_response5.text)['user_base_logic']
print(ub_logic_u1)
print("Length of updated logic 1-->",len(ub_logic_u1))
##########................
description_payload = {
    "current_logic":str(ub_logic_u1),
    "user_input":"update it",
    "user_description":"I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London"
}

description_response5 = requests.post(
    f"{BASE_URL}/update_user_base_logic",
    json=description_payload
)

print("\nResponse from /update_user_base_logic")
print(description_response5.text)
ub_logic_u2 =json.loads(description_response5.text)['user_base_logic']
print(ub_logic_u2)
print("Length of updated logic 2-->",len(ub_logic_u2))
#...............
description_payload = {
    "current_logic":str(ub_logic_u2),
    "user_input":"update it",
    "user_description":"I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London"
}

description_response5 = requests.post(
    f"{BASE_URL}/update_user_base_logic",
    json=description_payload
)

print("\nResponse from /update_user_base_logic")
print(description_response5.text)
ub_logic_u3 =json.loads(description_response5.text)['user_base_logic']
print(ub_logic_u3)
print("Length of updated logic 3-->",len(ub_logic_u3))

#.......................
description_payload = {
    "current_logic":str(ub_logic_u3),
    "user_input":"Remove last step",
    "user_description":"I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London"
}

description_response5 = requests.post(
    f"{BASE_URL}/update_user_base_logic",
    json=description_payload
)

print("\nResponse from /update_user_base_logic")
print(description_response5.text)
ub_logic_u4 =json.loads(description_response5.text)['user_base_logic']
print(ub_logic_u4)
print("Length of updated logic 4-->",len(ub_logic_u4))
#pdb.set_trace()
'''
#  Update User BAse assumption and formula ........pay load
description_payload = {
    "user_description":"I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London",
    "User_Base_logic":ub_logic,
    "base_period":["January","December","2025"],
}



description_response6 = requests.post(
    f"{BASE_URL}/get_user_base_ass_formula",
    json=description_payload,
    proxies=proxies
)

print("\nResponse from /get_user_base_ass_formula")
print(description_response6.text)
#pdb.set_trace()



assumptions= {"India_Total_Population":1400000000,"UAE_Total_Population":10000000,"UK_Total_Population":67000000,"India_Internet_Penetration (%)":45,"UAE_Internet_Penetration (%)":99,"UK_Internet_Penetration (%)":95,"India_High_Income_Share (%)":15,"India_Mid_Income_Share (%)":35,"India_Low_Income_Share (%)":50,"UAE_High_Income_Share (%)":40,"UAE_Mid_Income_Share (%)":45,"UAE_Low_Income_Share (%)":15,"UK_High_Income_Share (%)":30,"UK_Mid_Income_Share (%)":50,"UK_Low_Income_Share (%)":20,"High_Income_AI_Adoption_Rate (%)":25,"Mid_Income_AI_Adoption_Rate (%)":15,"Low_Income_AI_Adoption_Rate (%)":5,"India_Enterprise_Count":65000000,"UAE_Enterprise_Count":400000,"UK_Enterprise_Count":5700000,"Small_Enterprise_Share (%)":85,"Medium_Enterprise_Share (%)":12,"Large_Enterprise_Share (%)":3,"Small_Enterprise_AI_Adoption_Rate (%)":8,"Medium_Enterprise_AI_Adoption_Rate (%)":20,"Large_Enterprise_AI_Adoption_Rate (%)":45,"Average_Seats_Per_Small_Enterprise":5,"Average_Seats_Per_Medium_Enterprise":50,"Average_Seats_Per_Large_Enterprise":500,"India_Population_Growth_Rate (%)":2.3,"UAE_Population_Growth_Rate (%)":2.8,"UK_Population_Growth_Rate (%)":2.1,"India_Enterprise_Growth_Rate (%)":2.5,"UAE_Enterprise_Growth_Rate (%)":2.7,"UK_Enterprise_Growth_Rate (%)":2.2,"Indian_Subcontinent_High_Income_Market_Share (%)":5,"Indian_Subcontinent_Mid_Income_Market_Share (%)":3,"Indian_Subcontinent_Low_Income_Market_Share (%)":1,"Middle_East_Africa_High_Income_Market_Share (%)":12,"Middle_East_Africa_Mid_Income_Market_Share (%)":8,"Middle_East_Africa_Low_Income_Market_Share (%)":4,"UK_Europe_High_Income_Market_Share (%)":15,"UK_Europe_Mid_Income_Market_Share (%)":10,"UK_Europe_Low_Income_Market_Share (%)":6,"Indian_Subcontinent_Small_Enterprise_Market_Share (%)":2,"Indian_Subcontinent_Medium_Enterprise_Market_Share (%)":4,"Indian_Subcontinent_Large_Enterprise_Market_Share (%)":8,"Middle_East_Africa_Small_Enterprise_Market_Share (%)":6,"Middle_East_Africa_Medium_Enterprise_Market_Share (%)":10,"Middle_East_Africa_Large_Enterprise_Market_Share (%)":18,"UK_Europe_Small_Enterprise_Market_Share (%)":8,"UK_Europe_Medium_Enterprise_Market_Share (%)":12,"UK_Europe_Large_Enterprise_Market_Share (%)":22,"Indian_Subcontinent_High_Income_Churn_Rate (%)":15,"Indian_Subcontinent_Mid_Income_Churn_Rate (%)":12,"Indian_Subcontinent_Low_Income_Churn_Rate (%)":8,"Middle_East_Africa_High_Income_Churn_Rate (%)":18,"Middle_East_Africa_Mid_Income_Churn_Rate (%)":14,"Middle_East_Africa_Low_Income_Churn_Rate (%)":10,"UK_Europe_High_Income_Churn_Rate (%)":20,"UK_Europe_Mid_Income_Churn_Rate (%)":16,"UK_Europe_Low_Income_Churn_Rate (%)":12,"Indian_Subcontinent_Small_Enterprise_Churn_Rate (%)":10,"Indian_Subcontinent_Medium_Enterprise_Churn_Rate (%)":8,"Indian_Subcontinent_Large_Enterprise_Churn_Rate (%)":6,"Middle_East_Africa_Small_Enterprise_Churn_Rate (%)":12,"Middle_East_Africa_Medium_Enterprise_Churn_Rate (%)":10,"Middle_East_Africa_Large_Enterprise_Churn_Rate (%)":7,"UK_Europe_Small_Enterprise_Churn_Rate (%)":14,"UK_Europe_Medium_Enterprise_Churn_Rate (%)":11,"UK_Europe_Large_Enterprise_Churn_Rate (%)":8}#,
formula= {"Step 1: Identify the size of the population in scope":["Indian_Subcontinent_Internet_Users = India_Total_Population * India_Internet_Penetration / 100","Indian_Subcontinent_High_Income_AI_Adopters = Indian_Subcontinent_Internet_Users * India_High_Income_Share / 100 * High_Income_AI_Adoption_Rate / 100","Indian_Subcontinent_Mid_Income_AI_Adopters = Indian_Subcontinent_Internet_Users * India_Mid_Income_Share / 100 * Mid_Income_AI_Adoption_Rate / 100","Indian_Subcontinent_Low_Income_AI_Adopters = Indian_Subcontinent_Internet_Users * India_Low_Income_Share / 100 * Low_Income_AI_Adoption_Rate / 100","Middle_East_Africa_Internet_Users = UAE_Total_Population * UAE_Internet_Penetration / 100","Middle_East_Africa_High_Income_AI_Adopters = Middle_East_Africa_Internet_Users * UAE_High_Income_Share / 100 * High_Income_AI_Adoption_Rate / 100","Middle_East_Africa_Mid_Income_AI_Adopters = Middle_East_Africa_Internet_Users * UAE_Mid_Income_Share / 100 * Mid_Income_AI_Adoption_Rate / 100","Middle_East_Africa_Low_Income_AI_Adopters = Middle_East_Africa_Internet_Users * UAE_Low_Income_Share / 100 * Low_Income_AI_Adoption_Rate / 100","UK_Europe_Internet_Users = UK_Total_Population * UK_Internet_Penetration / 100","UK_Europe_High_Income_AI_Adopters = UK_Europe_Internet_Users * UK_High_Income_Share / 100 * High_Income_AI_Adoption_Rate / 100","UK_Europe_Mid_Income_AI_Adopters = UK_Europe_Internet_Users * UK_Mid_Income_Share / 100 * Mid_Income_AI_Adoption_Rate / 100","UK_Europe_Low_Income_AI_Adopters = UK_Europe_Internet_Users * UK_Low_Income_Share / 100 * Low_Income_AI_Adoption_Rate / 100","Indian_Subcontinent_Small_Enterprise_Seats = India_Enterprise_Count * Small_Enterprise_Share / 100 * Small_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Small_Enterprise","Indian_Subcontinent_Medium_Enterprise_Seats = India_Enterprise_Count * Medium_Enterprise_Share / 100 * Medium_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Medium_Enterprise","Indian_Subcontinent_Large_Enterprise_Seats = India_Enterprise_Count * Large_Enterprise_Share / 100 * Large_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Large_Enterprise","Middle_East_Africa_Small_Enterprise_Seats = UAE_Enterprise_Count * Small_Enterprise_Share / 100 * Small_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Small_Enterprise","Middle_East_Africa_Medium_Enterprise_Seats = UAE_Enterprise_Count * Medium_Enterprise_Share / 100 * Medium_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Medium_Enterprise","Middle_East_Africa_Large_Enterprise_Seats = UAE_Enterprise_Count * Large_Enterprise_Share / 100 * Large_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Large_Enterprise","UK_Europe_Small_Enterprise_Seats = UK_Enterprise_Count * Small_Enterprise_Share / 100 * Small_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Small_Enterprise","UK_Europe_Medium_Enterprise_Seats = UK_Enterprise_Count * Medium_Enterprise_Share / 100 * Medium_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Medium_Enterprise","UK_Europe_Large_Enterprise_Seats = UK_Enterprise_Count * Large_Enterprise_Share / 100 * Large_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Large_Enterprise"],"Step 2: Identify the growth rate of the segment":["Total_Indian_Subcontinent_High_Income_AI_Adopters = Indian_Subcontinent_High_Income_AI_Adopters * (1 + India_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Mid_Income_AI_Adopters = Indian_Subcontinent_Mid_Income_AI_Adopters * (1 + India_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Low_Income_AI_Adopters = Indian_Subcontinent_Low_Income_AI_Adopters * (1 + India_Population_Growth_Rate / 100)","Total_Middle_East_Africa_High_Income_AI_Adopters = Middle_East_Africa_High_Income_AI_Adopters * (1 + UAE_Population_Growth_Rate / 100)","Total_Middle_East_Africa_Mid_Income_AI_Adopters = Middle_East_Africa_Mid_Income_AI_Adopters * (1 + UAE_Population_Growth_Rate / 100)","Total_Middle_East_Africa_Low_Income_AI_Adopters = Middle_East_Africa_Low_Income_AI_Adopters * (1 + UAE_Population_Growth_Rate / 100)","Total_UK_Europe_High_Income_AI_Adopters = UK_Europe_High_Income_AI_Adopters * (1 + UK_Population_Growth_Rate / 100)","Total_UK_Europe_Mid_Income_AI_Adopters = UK_Europe_Mid_Income_AI_Adopters * (1 + UK_Population_Growth_Rate / 100)","Total_UK_Europe_Low_Income_AI_Adopters = UK_Europe_Low_Income_AI_Adopters * (1 + UK_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Small_Enterprise_Seats = Indian_Subcontinent_Small_Enterprise_Seats * (1 + India_Enterprise_Growth_Rate / 100)","Total_Indian_Subcontinent_Medium_Enterprise_Seats = Indian_Subcontinent_Medium_Enterprise_Seats * (1 + India_Enterprise_Growth_Rate / 100)","Total_Indian_Subcontinent_Large_Enterprise_Seats = Indian_Subcontinent_Large_Enterprise_Seats * (1 + India_Enterprise_Growth_Rate / 100)","Total_Middle_East_Africa_Small_Enterprise_Seats = Middle_East_Africa_Small_Enterprise_Seats * (1 + UAE_Enterprise_Growth_Rate / 100)","Total_Middle_East_Africa_Medium_Enterprise_Seats = Middle_East_Africa_Medium_Enterprise_Seats * (1 + UAE_Enterprise_Growth_Rate / 100)","Total_Middle_East_Africa_Large_Enterprise_Seats = Middle_East_Africa_Large_Enterprise_Seats * (1 + UAE_Enterprise_Growth_Rate / 100)","Total_UK_Europe_Small_Enterprise_Seats = UK_Europe_Small_Enterprise_Seats * (1 + UK_Enterprise_Growth_Rate / 100)","Total_UK_Europe_Medium_Enterprise_Seats = UK_Europe_Medium_Enterprise_Seats * (1 + UK_Enterprise_Growth_Rate / 100)","Total_UK_Europe_Large_Enterprise_Seats = UK_Europe_Large_Enterprise_Seats * (1 + UK_Enterprise_Growth_Rate / 100)"],"Step 3: Company market share":["Indian_Subcontinent_High_Income_Addressable_Market = Total_Indian_Subcontinent_High_Income_AI_Adopters * Indian_Subcontinent_High_Income_Market_Share / 100","Indian_Subcontinent_Mid_Income_Addressable_Market = Total_Indian_Subcontinent_Mid_Income_AI_Adopters * Indian_Subcontinent_Mid_Income_Market_Share / 100","Indian_Subcontinent_Low_Income_Addressable_Market = Total_Indian_Subcontinent_Low_Income_AI_Adopters * Indian_Subcontinent_Low_Income_Market_Share / 100","Middle_East_Africa_High_Income_Addressable_Market = Total_Middle_East_Africa_High_Income_AI_Adopters * Middle_East_Africa_High_Income_Market_Share / 100","Middle_East_Africa_Mid_Income_Addressable_Market = Total_Middle_East_Africa_Mid_Income_AI_Adopters * Middle_East_Africa_Mid_Income_Market_Share / 100","Middle_East_Africa_Low_Income_Addressable_Market = Total_Middle_East_Africa_Low_Income_AI_Adopters * Middle_East_Africa_Low_Income_Market_Share / 100","UK_Europe_High_Income_Addressable_Market = Total_UK_Europe_High_Income_AI_Adopters * UK_Europe_High_Income_Market_Share / 100","UK_Europe_Mid_Income_Addressable_Market = Total_UK_Europe_Mid_Income_AI_Adopters * UK_Europe_Mid_Income_Market_Share / 100","UK_Europe_Low_Income_Addressable_Market = Total_UK_Europe_Low_Income_AI_Adopters * UK_Europe_Low_Income_Market_Share / 100","Indian_Subcontinent_Small_Enterprise_Addressable_Seats = Total_Indian_Subcontinent_Small_Enterprise_Seats * Indian_Subcontinent_Small_Enterprise_Market_Share / 100","Indian_Subcontinent_Medium_Enterprise_Addressable_Seats = Total_Indian_Subcontinent_Medium_Enterprise_Seats * Indian_Subcontinent_Medium_Enterprise_Market_Share / 100","Indian_Subcontinent_Large_Enterprise_Addressable_Seats = Total_Indian_Subcontinent_Large_Enterprise_Seats * Indian_Subcontinent_Large_Enterprise_Market_Share / 100","Middle_East_Africa_Small_Enterprise_Addressable_Seats = Total_Middle_East_Africa_Small_Enterprise_Seats * Middle_East_Africa_Small_Enterprise_Market_Share / 100","Middle_East_Africa_Medium_Enterprise_Addressable_Seats = Total_Middle_East_Africa_Medium_Enterprise_Seats * Middle_East_Africa_Medium_Enterprise_Market_Share / 100","Middle_East_Africa_Large_Enterprise_Addressable_Seats = Total_Middle_East_Africa_Large_Enterprise_Seats * Middle_East_Africa_Large_Enterprise_Market_Share / 100","UK_Europe_Small_Enterprise_Addressable_Seats = Total_UK_Europe_Small_Enterprise_Seats * UK_Europe_Small_Enterprise_Market_Share / 100","UK_Europe_Medium_Enterprise_Addressable_Seats = Total_UK_Europe_Medium_Enterprise_Seats * UK_Europe_Medium_Enterprise_Market_Share / 100","UK_Europe_Large_Enterprise_Addressable_Seats = Total_UK_Europe_Large_Enterprise_Seats * UK_Europe_Large_Enterprise_Market_Share / 100"],"Step 4: Factor gains and losses of customers from and to competitors":["Indian_Subcontinent_High_Income_Churn = Indian_Subcontinent_High_Income_Addressable_Market * Indian_Subcontinent_High_Income_Churn_Rate / 100","Indian_Subcontinent_Mid_Income_Churn = Indian_Subcontinent_Mid_Income_Addressable_Market * Indian_Subcontinent_Mid_Income_Churn_Rate / 100","Indian_Subcontinent_Low_Income_Churn = Indian_Subcontinent_Low_Income_Addressable_Market * Indian_Subcontinent_Low_Income_Churn_Rate / 100","Middle_East_Africa_High_Income_Churn = Middle_East_Africa_High_Income_Addressable_Market * Middle_East_Africa_High_Income_Churn_Rate / 100","Middle_East_Africa_Mid_Income_Churn = Middle_East_Africa_Mid_Income_Addressable_Market * Middle_East_Africa_Mid_Income_Churn_Rate / 100","Middle_East_Africa_Low_Income_Churn = Middle_East_Africa_Low_Income_Addressable_Market * Middle_East_Africa_Low_Income_Churn_Rate / 100","UK_Europe_High_Income_Churn = UK_Europe_High_Income_Addressable_Market * UK_Europe_High_Income_Churn_Rate / 100","UK_Europe_Mid_Income_Churn = UK_Europe_Mid_Income_Addressable_Market * UK_Europe_Mid_Income_Churn_Rate / 100","UK_Europe_Low_Income_Churn = UK_Europe_Low_Income_Addressable_Market * UK_Europe_Low_Income_Churn_Rate / 100","Indian_Subcontinent_Small_Enterprise_Churn = Indian_Subcontinent_Small_Enterprise_Addressable_Seats * Indian_Subcontinent_Small_Enterprise_Churn_Rate / 100","Indian_Subcontinent_Medium_Enterprise_Churn = Indian_Subcontinent_Medium_Enterprise_Addressable_Seats * Indian_Subcontinent_Medium_Enterprise_Churn_Rate / 100","Indian_Subcontinent_Large_Enterprise_Churn = Indian_Subcontinent_Large_Enterprise_Addressable_Seats * Indian_Subcontinent_Large_Enterprise_Churn_Rate / 100","Middle_East_Africa_Small_Enterprise_Churn = Middle_East_Africa_Small_Enterprise_Addressable_Seats * Middle_East_Africa_Small_Enterprise_Churn_Rate / 100","Middle_East_Africa_Medium_Enterprise_Churn = Middle_East_Africa_Medium_Enterprise_Addressable_Seats * Middle_East_Africa_Medium_Enterprise_Churn_Rate / 100","Middle_East_Africa_Large_Enterprise_Churn = Middle_East_Africa_Large_Enterprise_Addressable_Seats * Middle_East_Africa_Large_Enterprise_Churn_Rate / 100","UK_Europe_Small_Enterprise_Churn = UK_Europe_Small_Enterprise_Addressable_Seats * UK_Europe_Small_Enterprise_Churn_Rate / 100","UK_Europe_Medium_Enterprise_Churn = UK_Europe_Medium_Enterprise_Addressable_Seats * UK_Europe_Medium_Enterprise_Churn_Rate / 100","UK_Europe_Large_Enterprise_Churn = UK_Europe_Large_Enterprise_Addressable_Seats * UK_Europe_Large_Enterprise_Churn_Rate / 100"],"Step 5: Total user base":["Indian_Subcontinent_High_Income_Users = Indian_Subcontinent_High_Income_Addressable_Market - Indian_Subcontinent_High_Income_Churn","Indian_Subcontinent_Mid_Income_Users = Indian_Subcontinent_Mid_Income_Addressable_Market - Indian_Subcontinent_Mid_Income_Churn","Indian_Subcontinent_Low_Income_Users = Indian_Subcontinent_Low_Income_Addressable_Market - Indian_Subcontinent_Low_Income_Churn","Middle_East_Africa_High_Income_Users = Middle_East_Africa_High_Income_Addressable_Market - Middle_East_Africa_High_Income_Churn","Middle_East_Africa_Mid_Income_Users = Middle_East_Africa_Mid_Income_Addressable_Market - Middle_East_Africa_Mid_Income_Churn","Middle_East_Africa_Low_Income_Users = Middle_East_Africa_Low_Income_Addressable_Market - Middle_East_Africa_Low_Income_Churn","UK_Europe_High_Income_Users = UK_Europe_High_Income_Addressable_Market - UK_Europe_High_Income_Churn","UK_Europe_Mid_Income_Users = UK_Europe_Mid_Income_Addressable_Market - UK_Europe_Mid_Income_Churn","UK_Europe_Low_Income_Users = UK_Europe_Low_Income_Addressable_Market - UK_Europe_Low_Income_Churn","Indian_Subcontinent_Small_Enterprise_Users = Indian_Subcontinent_Small_Enterprise_Addressable_Seats - Indian_Subcontinent_Small_Enterprise_Churn","Indian_Subcontinent_Medium_Enterprise_Users = Indian_Subcontinent_Medium_Enterprise_Addressable_Seats - Indian_Subcontinent_Medium_Enterprise_Churn","Indian_Subcontinent_Large_Enterprise_Users = Indian_Subcontinent_Large_Enterprise_Addressable_Seats - Indian_Subcontinent_Large_Enterprise_Churn","Middle_East_Africa_Small_Enterprise_Users = Middle_East_Africa_Small_Enterprise_Addressable_Seats - Middle_East_Africa_Small_Enterprise_Churn","Middle_East_Africa_Medium_Enterprise_Users = Middle_East_Africa_Medium_Enterprise_Addressable_Seats - Middle_East_Africa_Medium_Enterprise_Churn","Middle_East_Africa_Large_Enterprise_Users = Middle_East_Africa_Large_Enterprise_Addressable_Seats - Middle_East_Africa_Large_Enterprise_Churn","UK_Europe_Small_Enterprise_Users = UK_Europe_Small_Enterprise_Addressable_Seats - UK_Europe_Small_Enterprise_Churn","UK_Europe_Medium_Enterprise_Users = UK_Europe_Medium_Enterprise_Addressable_Seats - UK_Europe_Medium_Enterprise_Churn","UK_Europe_Large_Enterprise_Users = UK_Europe_Large_Enterprise_Addressable_Seats - UK_Europe_Large_Enterprise_Churn","Total_User_Base = Indian_Subcontinent_High_Income_Users + Indian_Subcontinent_Mid_Income_Users + Indian_Subcontinent_Low_Income_Users + Middle_East_Africa_High_Income_Users + Middle_East_Africa_Mid_Income_Users + Middle_East_Africa_Low_Income_Users + UK_Europe_High_Income_Users + UK_Europe_Mid_Income_Users + UK_Europe_Low_Income_Users + Indian_Subcontinent_Small_Enterprise_Users + Indian_Subcontinent_Medium_Enterprise_Users + Indian_Subcontinent_Large_Enterprise_Users + Middle_East_Africa_Small_Enterprise_Users + Middle_East_Africa_Medium_Enterprise_Users + Middle_East_Africa_Large_Enterprise_Users + UK_Europe_Small_Enterprise_Users + UK_Europe_Medium_Enterprise_Users + UK_Europe_Large_Enterprise_Users"]}
assumptions={
        "India_Total_Population": 1400000000,
        "UAE_Total_Population": 10000000,
        "UK_Total_Population": 67000000,
        "India_Internet_Penetration (%)": 50,
        "UAE_Internet_Penetration (%)": 95,
        "UK_Internet_Penetration (%)": 95,
        "India_High_Income_Share (%)": 15,
        "India_Mid_Income_Share (%)": 35,
        "India_Low_Income_Share (%)": 50,
        "UAE_High_Income_Share (%)": 45,
        "UAE_Mid_Income_Share (%)": 40,
        "UAE_Low_Income_Share (%)": 15,
        "UK_High_Income_Share (%)": 30,
        "UK_Mid_Income_Share (%)": 55,
        "UK_Low_Income_Share (%)": 15,
        "High_Income_AI_Adoption (%)": 25,
        "Mid_Income_AI_Adoption (%)": 15,
        "Low_Income_AI_Adoption (%)": 5,
        "India_Enterprise_Count": 75000000,
        "UAE_Enterprise_Count": 500000,
        "UK_Enterprise_Count": 5500000,
        "Small_Enterprise_Share (%)": 70,
        "Medium_Enterprise_Share (%)": 25,
        "Large_Enterprise_Share (%)": 5,
        "Small_Enterprise_AI_Adoption (%)": 10,
        "Medium_Enterprise_AI_Adoption (%)": 35,
        "Large_Enterprise_AI_Adoption (%)": 60,
        "Small_Enterprise_Avg_Seats": 5,
        "Medium_Enterprise_Avg_Seats": 50,
        "Large_Enterprise_Avg_Seats": 500,
        "Population_Growth_Rate_Indian_Subcontinent (%)": 2.5,
        "Population_Growth_Rate_Middle_East_and_Africa (%)": 2.8,
        "Population_Growth_Rate_UK_and_Europe (%)": 2.2,
        "Enterprise_Growth_Rate_Indian_Subcontinent (%)": 3.0,
        "Enterprise_Growth_Rate_Middle_East_and_Africa (%)": 2.7,
        "Enterprise_Growth_Rate_UK_and_Europe (%)": 2.3,
        "Indian_Subcontinent_High_Income_Individual_Market_Share (%)": 0.5,
        "Indian_Subcontinent_Mid_Income_Individual_Market_Share (%)": 0.3,
        "Indian_Subcontinent_Low_Income_Individual_Market_Share (%)": 0.1,
        "Middle_East_and_Africa_High_Income_Individual_Market_Share (%)": 2.0,
        "Middle_East_and_Africa_Mid_Income_Individual_Market_Share (%)": 1.5,
        "Middle_East_and_Africa_Low_Income_Individual_Market_Share (%)": 0.8,
        "UK_and_Europe_High_Income_Individual_Market_Share (%)": 3.0,
        "UK_and_Europe_Mid_Income_Individual_Market_Share (%)": 2.5,
        "UK_and_Europe_Low_Income_Individual_Market_Share (%)": 1.0,
        "Indian_Subcontinent_Small_Enterprise_Market_Share (%)": 0.3,
        "Indian_Subcontinent_Medium_Enterprise_Market_Share (%)": 0.8,
        "Indian_Subcontinent_Large_Enterprise_Market_Share (%)": 2.0,
        "Middle_East_and_Africa_Small_Enterprise_Market_Share (%)": 1.2,
        "Middle_East_and_Africa_Medium_Enterprise_Market_Share (%)": 2.5,
        "Middle_East_and_Africa_Large_Enterprise_Market_Share (%)": 5.0,
        "UK_and_Europe_Small_Enterprise_Market_Share (%)": 2.0,
        "UK_and_Europe_Medium_Enterprise_Market_Share (%)": 4.0,
        "UK_and_Europe_Large_Enterprise_Market_Share (%)": 8.0,
        "Indian_Subcontinent_High_Income_Individual_Churn (%)": 8,
        "Indian_Subcontinent_Mid_Income_Individual_Churn (%)": 12,
        "Indian_Subcontinent_Low_Income_Individual_Churn (%)": 15,
        "Middle_East_and_Africa_High_Income_Individual_Churn (%)": 6,
        "Middle_East_and_Africa_Mid_Income_Individual_Churn (%)": 10,
        "Middle_East_and_Africa_Low_Income_Individual_Churn (%)": 12,
        "UK_and_Europe_High_Income_Individual_Churn (%)": 5,
        "UK_and_Europe_Mid_Income_Individual_Churn (%)": 8,
        "UK_and_Europe_Low_Income_Individual_Churn (%)": 10,
        "Indian_Subcontinent_Small_Enterprise_Churn (%)": 18,
        "Indian_Subcontinent_Medium_Enterprise_Churn (%)": 12,
        "Indian_Subcontinent_Large_Enterprise_Churn (%)": 8,
        "Middle_East_and_Africa_Small_Enterprise_Churn (%)": 15,
        "Middle_East_and_Africa_Medium_Enterprise_Churn (%)": 10,
        "Middle_East_and_Africa_Large_Enterprise_Churn (%)": 6,
        "UK_and_Europe_Small_Enterprise_Churn (%)": 12,
        "UK_and_Europe_Medium_Enterprise_Churn (%)": 8,
        "UK_and_Europe_Large_Enterprise_Churn (%)": 5
    }

formula = {
        "Step 1: Identify the size of the population in scope": [
            "India_Internet_Users = India_Total_Population * India_Internet_Penetration / 100",
            "UAE_Internet_Users = UAE_Total_Population * UAE_Internet_Penetration / 100",
            "UK_Internet_Users = UK_Total_Population * UK_Internet_Penetration / 100",
            "Indian_Subcontinent_High_Income_Individual_Adopters = India_Internet_Users * India_High_Income_Share / 100 * High_Income_AI_Adoption / 100",
            "Indian_Subcontinent_Mid_Income_Individual_Adopters = India_Internet_Users * India_Mid_Income_Share / 100 * Mid_Income_AI_Adoption / 100",
            "Indian_Subcontinent_Low_Income_Individual_Adopters = India_Internet_Users * India_Low_Income_Share / 100 * Low_Income_AI_Adoption / 100",
            "Middle_East_and_Africa_High_Income_Individual_Adopters = UAE_Internet_Users * UAE_High_Income_Share / 100 * High_Income_AI_Adoption / 100",
            "Middle_East_and_Africa_Mid_Income_Individual_Adopters = UAE_Internet_Users * UAE_Mid_Income_Share / 100 * Mid_Income_AI_Adoption / 100",
            "Middle_East_and_Africa_Low_Income_Individual_Adopters = UAE_Internet_Users * UAE_Low_Income_Share / 100 * Low_Income_AI_Adoption / 100",
            "UK_and_Europe_High_Income_Individual_Adopters = UK_Internet_Users * UK_High_Income_Share / 100 * High_Income_AI_Adoption / 100",
            "UK_and_Europe_Mid_Income_Individual_Adopters = UK_Internet_Users * UK_Mid_Income_Share / 100 * Mid_Income_AI_Adoption / 100",
            "UK_and_Europe_Low_Income_Individual_Adopters = UK_Internet_Users * UK_Low_Income_Share / 100 * Low_Income_AI_Adoption / 100",
            "Indian_Subcontinent_Small_Enterprise_Seats = India_Enterprise_Count * Small_Enterprise_Share / 100 * Small_Enterprise_AI_Adoption / 100 * Small_Enterprise_Avg_Seats",
            "Indian_Subcontinent_Medium_Enterprise_Seats = India_Enterprise_Count * Medium_Enterprise_Share / 100 * Medium_Enterprise_AI_Adoption / 100 * Medium_Enterprise_Avg_Seats",
            "Indian_Subcontinent_Large_Enterprise_Seats = India_Enterprise_Count * Large_Enterprise_Share / 100 * Large_Enterprise_AI_Adoption / 100 * Large_Enterprise_Avg_Seats",
            "Middle_East_and_Africa_Small_Enterprise_Seats = UAE_Enterprise_Count * Small_Enterprise_Share / 100 * Small_Enterprise_AI_Adoption / 100 * Small_Enterprise_Avg_Seats",
            "Middle_East_and_Africa_Medium_Enterprise_Seats = UAE_Enterprise_Count * Medium_Enterprise_Share / 100 * Medium_Enterprise_AI_Adoption / 100 * Medium_Enterprise_Avg_Seats",
            "Middle_East_and_Africa_Large_Enterprise_Seats = UAE_Enterprise_Count * Large_Enterprise_Share / 100 * Large_Enterprise_AI_Adoption / 100 * Large_Enterprise_Avg_Seats",
            "UK_and_Europe_Small_Enterprise_Seats = UK_Enterprise_Count * Small_Enterprise_Share / 100 * Small_Enterprise_AI_Adoption / 100 * Small_Enterprise_Avg_Seats",
            "UK_and_Europe_Medium_Enterprise_Seats = UK_Enterprise_Count * Medium_Enterprise_Share / 100 * Medium_Enterprise_AI_Adoption / 100 * Medium_Enterprise_Avg_Seats",
            "UK_and_Europe_Large_Enterprise_Seats = UK_Enterprise_Count * Large_Enterprise_Share / 100 * Large_Enterprise_AI_Adoption / 100 * Large_Enterprise_Avg_Seats"
        ],
        "Step 2: Identify the growth rate of the segment": [
            "Total_Indian_Subcontinent_High_Income_Individual_Adopters = Indian_Subcontinent_High_Income_Individual_Adopters * (1 + Population_Growth_Rate_Indian_Subcontinent / 100)",
            "Total_Indian_Subcontinent_Mid_Income_Individual_Adopters = Indian_Subcontinent_Mid_Income_Individual_Adopters * (1 + Population_Growth_Rate_Indian_Subcontinent / 100)",
            "Total_Indian_Subcontinent_Low_Income_Individual_Adopters = Indian_Subcontinent_Low_Income_Individual_Adopters * (1 + Population_Growth_Rate_Indian_Subcontinent / 100)",
            "Total_Middle_East_and_Africa_High_Income_Individual_Adopters = Middle_East_and_Africa_High_Income_Individual_Adopters * (1 + Population_Growth_Rate_Middle_East_and_Africa / 100)",
            "Total_Middle_East_and_Africa_Mid_Income_Individual_Adopters = Middle_East_and_Africa_Mid_Income_Individual_Adopters * (1 + Population_Growth_Rate_Middle_East_and_Africa / 100)",
            "Total_Middle_East_and_Africa_Low_Income_Individual_Adopters = Middle_East_and_Africa_Low_Income_Individual_Adopters * (1 + Population_Growth_Rate_Middle_East_and_Africa / 100)",
            "Total_UK_and_Europe_High_Income_Individual_Adopters = UK_and_Europe_High_Income_Individual_Adopters * (1 + Population_Growth_Rate_UK_and_Europe / 100)",
            "Total_UK_and_Europe_Mid_Income_Individual_Adopters = UK_and_Europe_Mid_Income_Individual_Adopters * (1 + Population_Growth_Rate_UK_and_Europe / 100)",
            "Total_UK_and_Europe_Low_Income_Individual_Adopters = UK_and_Europe_Low_Income_Individual_Adopters * (1 + Population_Growth_Rate_UK_and_Europe / 100)",
            "Total_Indian_Subcontinent_Small_Enterprise_Seats = Indian_Subcontinent_Small_Enterprise_Seats * (1 + Enterprise_Growth_Rate_Indian_Subcontinent / 100)",
            "Total_Indian_Subcontinent_Medium_Enterprise_Seats = Indian_Subcontinent_Medium_Enterprise_Seats * (1 + Enterprise_Growth_Rate_Indian_Subcontinent / 100)",
            "Total_Indian_Subcontinent_Large_Enterprise_Seats = Indian_Subcontinent_Large_Enterprise_Seats * (1 + Enterprise_Growth_Rate_Indian_Subcontinent / 100)",
            "Total_Middle_East_and_Africa_Small_Enterprise_Seats = Middle_East_and_Africa_Small_Enterprise_Seats * (1 + Enterprise_Growth_Rate_Middle_East_and_Africa / 100)",
            "Total_Middle_East_and_Africa_Medium_Enterprise_Seats = Middle_East_and_Africa_Medium_Enterprise_Seats * (1 + Enterprise_Growth_Rate_Middle_East_and_Africa / 100)",
            "Total_Middle_East_and_Africa_Large_Enterprise_Seats = Middle_East_and_Africa_Large_Enterprise_Seats * (1 + Enterprise_Growth_Rate_Middle_East_and_Africa / 100)",
            "Total_UK_and_Europe_Small_Enterprise_Seats = UK_and_Europe_Small_Enterprise_Seats * (1 + Enterprise_Growth_Rate_UK_and_Europe / 100)",
            "Total_UK_and_Europe_Medium_Enterprise_Seats = UK_and_Europe_Medium_Enterprise_Seats * (1 + Enterprise_Growth_Rate_UK_and_Europe / 100)",
            "Total_UK_and_Europe_Large_Enterprise_Seats = UK_and_Europe_Large_Enterprise_Seats * (1 + Enterprise_Growth_Rate_UK_and_Europe / 100)"
        ],
        "Step 3: Company market share": [
            "Indian_Subcontinent_High_Income_Individual_Addressable_Market = Total_Indian_Subcontinent_High_Income_Individual_Adopters * Indian_Subcontinent_High_Income_Individual_Market_Share / 100",
            "Indian_Subcontinent_Mid_Income_Individual_Addressable_Market = Total_Indian_Subcontinent_Mid_Income_Individual_Adopters * Indian_Subcontinent_Mid_Income_Individual_Market_Share / 100",
            "Indian_Subcontinent_Low_Income_Individual_Addressable_Market = Total_Indian_Subcontinent_Low_Income_Individual_Adopters * Indian_Subcontinent_Low_Income_Individual_Market_Share / 100",
            "Middle_East_and_Africa_High_Income_Individual_Addressable_Market = Total_Middle_East_and_Africa_High_Income_Individual_Adopters * Middle_East_and_Africa_High_Income_Individual_Market_Share / 100",
            "Middle_East_and_Africa_Mid_Income_Individual_Addressable_Market = Total_Middle_East_and_Africa_Mid_Income_Individual_Adopters * Middle_East_and_Africa_Mid_Income_Individual_Market_Share / 100",
            "Middle_East_and_Africa_Low_Income_Individual_Addressable_Market = Total_Middle_East_and_Africa_Low_Income_Individual_Adopters * Middle_East_and_Africa_Low_Income_Individual_Market_Share / 100",
            "UK_and_Europe_High_Income_Individual_Addressable_Market = Total_UK_and_Europe_High_Income_Individual_Adopters * UK_and_Europe_High_Income_Individual_Market_Share / 100",
            "UK_and_Europe_Mid_Income_Individual_Addressable_Market = Total_UK_and_Europe_Mid_Income_Individual_Adopters * UK_and_Europe_Mid_Income_Individual_Market_Share / 100",
            "UK_and_Europe_Low_Income_Individual_Addressable_Market = Total_UK_and_Europe_Low_Income_Individual_Adopters * UK_and_Europe_Low_Income_Individual_Market_Share / 100",
            "Indian_Subcontinent_Small_Enterprise_Addressable_Market = Total_Indian_Subcontinent_Small_Enterprise_Seats * Indian_Subcontinent_Small_Enterprise_Market_Share / 100",
            "Indian_Subcontinent_Medium_Enterprise_Addressable_Market = Total_Indian_Subcontinent_Medium_Enterprise_Seats * Indian_Subcontinent_Medium_Enterprise_Market_Share / 100",
            "Indian_Subcontinent_Large_Enterprise_Addressable_Market = Total_Indian_Subcontinent_Large_Enterprise_Seats * Indian_Subcontinent_Large_Enterprise_Market_Share / 100",
            "Middle_East_and_Africa_Small_Enterprise_Addressable_Market = Total_Middle_East_and_Africa_Small_Enterprise_Seats * Middle_East_and_Africa_Small_Enterprise_Market_Share / 100",
            "Middle_East_and_Africa_Medium_Enterprise_Addressable_Market = Total_Middle_East_and_Africa_Medium_Enterprise_Seats * Middle_East_and_Africa_Medium_Enterprise_Market_Share / 100",
            "Middle_East_and_Africa_Large_Enterprise_Addressable_Market = Total_Middle_East_and_Africa_Large_Enterprise_Seats * Middle_East_and_Africa_Large_Enterprise_Market_Share / 100",
            "UK_and_Europe_Small_Enterprise_Addressable_Market = Total_UK_and_Europe_Small_Enterprise_Seats * UK_and_Europe_Small_Enterprise_Market_Share / 100",
            "UK_and_Europe_Medium_Enterprise_Addressable_Market = Total_UK_and_Europe_Medium_Enterprise_Seats * UK_and_Europe_Medium_Enterprise_Market_Share / 100",
            "UK_and_Europe_Large_Enterprise_Addressable_Market = Total_UK_and_Europe_Large_Enterprise_Seats * UK_and_Europe_Large_Enterprise_Market_Share / 100"
        ],
        "Step 4: Factor gains and losses of customers from and to competitors": [
            "Indian_Subcontinent_High_Income_Individual_Churn_Loss = Indian_Subcontinent_High_Income_Individual_Addressable_Market * Indian_Subcontinent_High_Income_Individual_Churn / 100",
            "Indian_Subcontinent_Mid_Income_Individual_Churn_Loss = Indian_Subcontinent_Mid_Income_Individual_Addressable_Market * Indian_Subcontinent_Mid_Income_Individual_Churn / 100",
            "Indian_Subcontinent_Low_Income_Individual_Churn_Loss = Indian_Subcontinent_Low_Income_Individual_Addressable_Market * Indian_Subcontinent_Low_Income_Individual_Churn / 100",
            "Middle_East_and_Africa_High_Income_Individual_Churn_Loss = Middle_East_and_Africa_High_Income_Individual_Addressable_Market * Middle_East_and_Africa_High_Income_Individual_Churn / 100",
            "Middle_East_and_Africa_Mid_Income_Individual_Churn_Loss = Middle_East_and_Africa_Mid_Income_Individual_Addressable_Market * Middle_East_and_Africa_Mid_Income_Individual_Churn / 100",
            "Middle_East_and_Africa_Low_Income_Individual_Churn_Loss = Middle_East_and_Africa_Low_Income_Individual_Addressable_Market * Middle_East_and_Africa_Low_Income_Individual_Churn / 100",
            "UK_and_Europe_High_Income_Individual_Churn_Loss = UK_and_Europe_High_Income_Individual_Addressable_Market * UK_and_Europe_High_Income_Individual_Churn / 100",
            "UK_and_Europe_Mid_Income_Individual_Churn_Loss = UK_and_Europe_Mid_Income_Individual_Addressable_Market * UK_and_Europe_Mid_Income_Individual_Churn / 100",
            "UK_and_Europe_Low_Income_Individual_Churn_Loss = UK_and_Europe_Low_Income_Individual_Addressable_Market * UK_and_Europe_Low_Income_Individual_Churn / 100",
            "Indian_Subcontinent_Small_Enterprise_Churn_Loss = Indian_Subcontinent_Small_Enterprise_Addressable_Market * Indian_Subcontinent_Small_Enterprise_Churn / 100",
            "Indian_Subcontinent_Medium_Enterprise_Churn_Loss = Indian_Subcontinent_Medium_Enterprise_Addressable_Market * Indian_Subcontinent_Medium_Enterprise_Churn / 100",
            "Indian_Subcontinent_Large_Enterprise_Churn_Loss = Indian_Subcontinent_Large_Enterprise_Addressable_Market * Indian_Subcontinent_Large_Enterprise_Churn / 100",
            "Middle_East_and_Africa_Small_Enterprise_Churn_Loss = Middle_East_and_Africa_Small_Enterprise_Addressable_Market * Middle_East_and_Africa_Small_Enterprise_Churn / 100",
            "Middle_East_and_Africa_Medium_Enterprise_Churn_Loss = Middle_East_and_Africa_Medium_Enterprise_Addressable_Market * Middle_East_and_Africa_Medium_Enterprise_Churn / 100",
            "Middle_East_and_Africa_Large_Enterprise_Churn_Loss = Middle_East_and_Africa_Large_Enterprise_Addressable_Market * Middle_East_and_Africa_Large_Enterprise_Churn / 100",
            "UK_and_Europe_Small_Enterprise_Churn_Loss = UK_and_Europe_Small_Enterprise_Addressable_Market * UK_and_Europe_Small_Enterprise_Churn / 100",
            "UK_and_Europe_Medium_Enterprise_Churn_Loss = UK_and_Europe_Medium_Enterprise_Addressable_Market * UK_and_Europe_Medium_Enterprise_Churn / 100",
            "UK_and_Europe_Large_Enterprise_Churn_Loss = UK_and_Europe_Large_Enterprise_Addressable_Market * UK_and_Europe_Large_Enterprise_Churn / 100"
        ],
        "Step 5: Total User base": [
            "Indian_Subcontinent_High_Income_Individual_Net_Users = Indian_Subcontinent_High_Income_Individual_Addressable_Market - Indian_Subcontinent_High_Income_Individual_Churn_Loss",
            "Indian_Subcontinent_Mid_Income_Individual_Net_Users = Indian_Subcontinent_Mid_Income_Individual_Addressable_Market - Indian_Subcontinent_Mid_Income_Individual_Churn_Loss",
            "Indian_Subcontinent_Low_Income_Individual_Net_Users = Indian_Subcontinent_Low_Income_Individual_Addressable_Market - Indian_Subcontinent_Low_Income_Individual_Churn_Loss",
            "Middle_East_and_Africa_High_Income_Individual_Net_Users = Middle_East_and_Africa_High_Income_Individual_Addressable_Market - Middle_East_and_Africa_High_Income_Individual_Churn_Loss",
            "Middle_East_and_Africa_Mid_Income_Individual_Net_Users = Middle_East_and_Africa_Mid_Income_Individual_Addressable_Market - Middle_East_and_Africa_Mid_Income_Individual_Churn_Loss",
            "Middle_East_and_Africa_Low_Income_Individual_Net_Users = Middle_East_and_Africa_Low_Income_Individual_Addressable_Market - Middle_East_and_Africa_Low_Income_Individual_Churn_Loss",
            "UK_and_Europe_High_Income_Individual_Net_Users = UK_and_Europe_High_Income_Individual_Addressable_Market - UK_and_Europe_High_Income_Individual_Churn_Loss",
            "UK_and_Europe_Mid_Income_Individual_Net_Users = UK_and_Europe_Mid_Income_Individual_Addressable_Market - UK_and_Europe_Mid_Income_Individual_Churn_Loss",
            "UK_and_Europe_Low_Income_Individual_Net_Users = UK_and_Europe_Low_Income_Individual_Addressable_Market - UK_and_Europe_Low_Income_Individual_Churn_Loss",
            "Indian_Subcontinent_Small_Enterprise_Net_Users = Indian_Subcontinent_Small_Enterprise_Addressable_Market - Indian_Subcontinent_Small_Enterprise_Churn_Loss",
            "Indian_Subcontinent_Medium_Enterprise_Net_Users = Indian_Subcontinent_Medium_Enterprise_Addressable_Market - Indian_Subcontinent_Medium_Enterprise_Churn_Loss",
            "Indian_Subcontinent_Large_Enterprise_Net_Users = Indian_Subcontinent_Large_Enterprise_Addressable_Market - Indian_Subcontinent_Large_Enterprise_Churn_Loss",
            "Middle_East_and_Africa_Small_Enterprise_Net_Users = Middle_East_and_Africa_Small_Enterprise_Addressable_Market - Middle_East_and_Africa_Small_Enterprise_Churn_Loss",
            "Middle_East_and_Africa_Medium_Enterprise_Net_Users = Middle_East_and_Africa_Medium_Enterprise_Addressable_Market - Middle_East_and_Africa_Medium_Enterprise_Churn_Loss",
            "Middle_East_and_Africa_Large_Enterprise_Net_Users = Middle_East_and_Africa_Large_Enterprise_Addressable_Market - Middle_East_and_Africa_Large_Enterprise_Churn_Loss",
            "UK_and_Europe_Small_Enterprise_Net_Users = UK_and_Europe_Small_Enterprise_Addressable_Market - UK_and_Europe_Small_Enterprise_Churn_Loss",
            "UK_and_Europe_Medium_Enterprise_Net_Users = UK_and_Europe_Medium_Enterprise_Addressable_Market - UK_and_Europe_Medium_Enterprise_Churn_Loss",
            "UK_and_Europe_Large_Enterprise_Net_Users = UK_and_Europe_Large_Enterprise_Addressable_Market - UK_and_Europe_Large_Enterprise_Churn_Loss",
            "Total_User_Base = Indian_Subcontinent_High_Income_Individual_Net_Users + Indian_Subcontinent_Mid_Income_Individual_Net_Users + Indian_Subcontinent_Low_Income_Individual_Net_Users + Middle_East_and_Africa_High_Income_Individual_Net_Users + Middle_East_and_Africa_Mid_Income_Individual_Net_Users + Middle_East_and_Africa_Low_Income_Individual_Net_Users + UK_and_Europe_High_Income_Individual_Net_Users + UK_and_Europe_Mid_Income_Individual_Net_Users + UK_and_Europe_Low_Income_Individual_Net_Users + Indian_Subcontinent_Small_Enterprise_Net_Users + Indian_Subcontinent_Medium_Enterprise_Net_Users + Indian_Subcontinent_Large_Enterprise_Net_Users + Middle_East_and_Africa_Small_Enterprise_Net_Users + Middle_East_and_Africa_Medium_Enterprise_Net_Users + Middle_East_and_Africa_Large_Enterprise_Net_Users + UK_and_Europe_Small_Enterprise_Net_Users + UK_and_Europe_Medium_Enterprise_Net_Users + UK_and_Europe_Large_Enterprise_Net_Users"
        ]
    }

#pdb.set_trace()
#formula =json.loads(description_response6)["formula"]
#assumptions=json.loads(description_response6)["assumptions"]

#....................................................................fetching UB asss values

formula = {
        "Step 1: Identify the size of the population in scope": [
            "Indian_Subcontinent_Tech_Aware_Population = India_Total_Population * India_AI_Tech_Aware_Population_Share / 100",
            "Middle_East_and_Africa_Tech_Aware_Population = UAE_Total_Population * UAE_AI_Tech_Aware_Population_Share / 100",
            "UK_and_Europe_Tech_Aware_Population = UK_Total_Population * UK_AI_Tech_Aware_Population_Share / 100",
            "Indian_Subcontinent_High_Income_LLM_Users = Indian_Subcontinent_Tech_Aware_Population * High_Income_Share_India / 100 * High_Income_LLM_Adoption_Rate / 100",
            "Indian_Subcontinent_Mid_Income_LLM_Users = Indian_Subcontinent_Tech_Aware_Population * Mid_Income_Share_India / 100 * Mid_Income_LLM_Adoption_Rate / 100",
            "Indian_Subcontinent_Low_Income_LLM_Users = Indian_Subcontinent_Tech_Aware_Population * Low_Income_Share_India / 100 * Low_Income_LLM_Adoption_Rate / 100",
            "Middle_East_and_Africa_High_Income_LLM_Users = Middle_East_and_Africa_Tech_Aware_Population * High_Income_Share_UAE / 100 * High_Income_LLM_Adoption_Rate / 100",
            "Middle_East_and_Africa_Mid_Income_LLM_Users = Middle_East_and_Africa_Tech_Aware_Population * Mid_Income_Share_UAE / 100 * Mid_Income_LLM_Adoption_Rate / 100",
            "Middle_East_and_Africa_Low_Income_LLM_Users = Middle_East_and_Africa_Tech_Aware_Population * Low_Income_Share_UAE / 100 * Low_Income_LLM_Adoption_Rate / 100",
            "UK_and_Europe_High_Income_LLM_Users = UK_and_Europe_Tech_Aware_Population * High_Income_Share_UK / 100 * High_Income_LLM_Adoption_Rate / 100",
            "UK_and_Europe_Mid_Income_LLM_Users = UK_and_Europe_Tech_Aware_Population * Mid_Income_Share_UK / 100 * Mid_Income_LLM_Adoption_Rate / 100",
            "UK_and_Europe_Low_Income_LLM_Users = UK_and_Europe_Tech_Aware_Population * Low_Income_Share_UK / 100 * Low_Income_LLM_Adoption_Rate / 100"
        ],
        "Step 2: Identify the growth rate of the segment": [
            "Total_Indian_Subcontinent_High_Income_LLM_Users = Indian_Subcontinent_High_Income_LLM_Users * (1 + Indian_Subcontinent_Population_Growth_Rate / 100)",
            "Total_Indian_Subcontinent_Mid_Income_LLM_Users = Indian_Subcontinent_Mid_Income_LLM_Users * (1 + Indian_Subcontinent_Population_Growth_Rate / 100)",
            "Total_Indian_Subcontinent_Low_Income_LLM_Users = Indian_Subcontinent_Low_Income_LLM_Users * (1 + Indian_Subcontinent_Population_Growth_Rate / 100)",
            "Total_Middle_East_and_Africa_High_Income_LLM_Users = Middle_East_and_Africa_High_Income_LLM_Users * (1 + Middle_East_and_Africa_Population_Growth_Rate / 100)",
            "Total_Middle_East_and_Africa_Mid_Income_LLM_Users = Middle_East_and_Africa_Mid_Income_LLM_Users * (1 + Middle_East_and_Africa_Population_Growth_Rate / 100)",
            "Total_Middle_East_and_Africa_Low_Income_LLM_Users = Middle_East_and_Africa_Low_Income_LLM_Users * (1 + Middle_East_and_Africa_Population_Growth_Rate / 100)",
            "Total_UK_and_Europe_High_Income_LLM_Users = UK_and_Europe_High_Income_LLM_Users * (1 + UK_and_Europe_Population_Growth_Rate / 100)",
            "Total_UK_and_Europe_Mid_Income_LLM_Users = UK_and_Europe_Mid_Income_LLM_Users * (1 + UK_and_Europe_Population_Growth_Rate / 100)",
            "Total_UK_and_Europe_Low_Income_LLM_Users = UK_and_Europe_Low_Income_LLM_Users * (1 + UK_and_Europe_Population_Growth_Rate / 100)"
        ],
        "Step 3: Company market share": [
            "Indian_Subcontinent_High_Income_Addressable_Market = Total_Indian_Subcontinent_High_Income_LLM_Users * Indian_Subcontinent_High_Income_Market_Share / 100",
            "Indian_Subcontinent_Mid_Income_Addressable_Market = Total_Indian_Subcontinent_Mid_Income_LLM_Users * Indian_Subcontinent_Mid_Income_Market_Share / 100",
            "Indian_Subcontinent_Low_Income_Addressable_Market = Total_Indian_Subcontinent_Low_Income_LLM_Users * Indian_Subcontinent_Low_Income_Market_Share / 100",
            "Middle_East_and_Africa_High_Income_Addressable_Market = Total_Middle_East_and_Africa_High_Income_LLM_Users * Middle_East_and_Africa_High_Income_Market_Share / 100",
            "Middle_East_and_Africa_Mid_Income_Addressable_Market = Total_Middle_East_and_Africa_Mid_Income_LLM_Users * Middle_East_and_Africa_Mid_Income_Market_Share / 100",
            "Middle_East_and_Africa_Low_Income_Addressable_Market = Total_Middle_East_and_Africa_Low_Income_LLM_Users * Middle_East_and_Africa_Low_Income_Market_Share / 100",
            "UK_and_Europe_High_Income_Addressable_Market = Total_UK_and_Europe_High_Income_LLM_Users * UK_and_Europe_High_Income_Market_Share / 100",
            "UK_and_Europe_Mid_Income_Addressable_Market = Total_UK_and_Europe_Mid_Income_LLM_Users * UK_and_Europe_Mid_Income_Market_Share / 100",
            "UK_and_Europe_Low_Income_Addressable_Market = Total_UK_and_Europe_Low_Income_LLM_Users * UK_and_Europe_Low_Income_Market_Share / 100"
        ],
        "Step 4: Factor gains and losses of customers from and to competitors": [
            "Indian_Subcontinent_High_Income_Churn = Indian_Subcontinent_High_Income_Addressable_Market * Indian_Subcontinent_High_Income_Churn_per_annum / 100",
            "Indian_Subcontinent_Mid_Income_Churn = Indian_Subcontinent_Mid_Income_Addressable_Market * Indian_Subcontinent_Mid_Income_Churn_per_annum / 100",
            "Indian_Subcontinent_Low_Income_Churn = Indian_Subcontinent_Low_Income_Addressable_Market * Indian_Subcontinent_Low_Income_Churn_per_annum / 100",
            "Middle_East_and_Africa_High_Income_Churn = Middle_East_and_Africa_High_Income_Addressable_Market * Middle_East_and_Africa_High_Income_Churn_per_annum / 100",
            "Middle_East_and_Africa_Mid_Income_Churn = Middle_East_and_Africa_Mid_Income_Addressable_Market * Middle_East_and_Africa_Mid_Income_Churn_per_annum / 100",
            "Middle_East_and_Africa_Low_Income_Churn = Middle_East_and_Africa_Low_Income_Addressable_Market * Middle_East_and_Africa_Low_Income_Churn_per_annum / 100",
            "UK_and_Europe_High_Income_Churn = UK_and_Europe_High_Income_Addressable_Market * UK_and_Europe_High_Income_Churn_per_annum / 100",
            "UK_and_Europe_Mid_Income_Churn = UK_and_Europe_Mid_Income_Addressable_Market * UK_and_Europe_Mid_Income_Churn_per_annum / 100",
            "UK_and_Europe_Low_Income_Churn = UK_and_Europe_Low_Income_Addressable_Market * UK_and_Europe_Low_Income_Churn_per_annum / 100"
        ],
        "Step 5: Total user base": [
            "Indian_Subcontinent_High_Income_Net_Users = Indian_Subcontinent_High_Income_Addressable_Market - Indian_Subcontinent_High_Income_Churn",
            "Indian_Subcontinent_Mid_Income_Net_Users = Indian_Subcontinent_Mid_Income_Addressable_Market - Indian_Subcontinent_Mid_Income_Churn",
            "Indian_Subcontinent_Low_Income_Net_Users = Indian_Subcontinent_Low_Income_Addressable_Market - Indian_Subcontinent_Low_Income_Churn",
            "Middle_East_and_Africa_High_Income_Net_Users = Middle_East_and_Africa_High_Income_Addressable_Market - Middle_East_and_Africa_High_Income_Churn",
            "Middle_East_and_Africa_Mid_Income_Net_Users = Middle_East_and_Africa_Mid_Income_Addressable_Market - Middle_East_and_Africa_Mid_Income_Churn",
            "Middle_East_and_Africa_Low_Income_Net_Users = Middle_East_and_Africa_Low_Income_Addressable_Market - Middle_East_and_Africa_Low_Income_Churn",
            "UK_and_Europe_High_Income_Net_Users = UK_and_Europe_High_Income_Addressable_Market - UK_and_Europe_High_Income_Churn",
            "UK_and_Europe_Mid_Income_Net_Users = UK_and_Europe_Mid_Income_Addressable_Market - UK_and_Europe_Mid_Income_Churn",
            "UK_and_Europe_Low_Income_Net_Users = UK_and_Europe_Low_Income_Addressable_Market - UK_and_Europe_Low_Income_Churn",
            "Total_user_base = Indian_Subcontinent_High_Income_Net_Users + Indian_Subcontinent_Mid_Income_Net_Users + Indian_Subcontinent_Low_Income_Net_Users + Middle_East_and_Africa_High_Income_Net_Users + Middle_East_and_Africa_Mid_Income_Net_Users + Middle_East_and_Africa_Low_Income_Net_Users + UK_and_Europe_High_Income_Net_Users + UK_and_Europe_Mid_Income_Net_Users + UK_and_Europe_Low_Income_Net_Users"
        ]}
assumptions = {
        "India_Total_Population": 1420000000,
        "UAE_Total_Population": 10000000,
        "UK_Total_Population": 67000000,
        "India_AI_Tech_Aware_Population_Share": 15,
        "UAE_AI_Tech_Aware_Population_Share": 35,
        "UK_AI_Tech_Aware_Population_Share": 45,
        "High_Income_Share_India": 10,
        "Mid_Income_Share_India": 25,
        "Low_Income_Share_India": 65,
        "High_Income_Share_UAE": 40,
        "Mid_Income_Share_UAE": 45,
        "Low_Income_Share_UAE": 15,
        "High_Income_Share_UK": 30,
        "Mid_Income_Share_UK": 50,
        "Low_Income_Share_UK": 20,
        "High_Income_LLM_Adoption_Rate": 25,
        "Mid_Income_LLM_Adoption_Rate": 12,
        "Low_Income_LLM_Adoption_Rate": 3,
        "Indian_Subcontinent_Population_Growth_Rate": 2.5,
        "Middle_East_and_Africa_Population_Growth_Rate": 2.8,
        "UK_and_Europe_Population_Growth_Rate": 2.2,
        "Indian_Subcontinent_High_Income_Market_Share": 8,
        "Indian_Subcontinent_Mid_Income_Market_Share": 12,
        "Indian_Subcontinent_Low_Income_Market_Share": 15,
        "Middle_East_and_Africa_High_Income_Market_Share": 6,
        "Middle_East_and_Africa_Mid_Income_Market_Share": 10,
        "Middle_East_and_Africa_Low_Income_Market_Share": 18,
        "UK_and_Europe_High_Income_Market_Share": 5,
        "UK_and_Europe_Mid_Income_Market_Share": 8,
        "UK_and_Europe_Low_Income_Market_Share": 12,
        "Indian_Subcontinent_High_Income_Churn_per_annum": 15,
        "Indian_Subcontinent_Mid_Income_Churn_per_annum": 12,
        "Indian_Subcontinent_Low_Income_Churn_per_annum": 20,
        "Middle_East_and_Africa_High_Income_Churn_per_annum": 10,
        "Middle_East_and_Africa_Mid_Income_Churn_per_annum": 8,
        "Middle_East_and_Africa_Low_Income_Churn_per_annum": 18,
        "UK_and_Europe_High_Income_Churn_per_annum": 8,
        "UK_and_Europe_Mid_Income_Churn_per_annum": 6,
        "UK_and_Europe_Low_Income_Churn_per_annum": 12
    }
analysis_time_frame = ["H1 2025", "H2 2025"]
period_ranges= [
        [
            "january",
            "June",
            2025
        ],
        [
            "July",
            "december",
            2025
        ]
    ]
user_description =  "I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. i want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London"



formula= {"Step 1: Identify the size of the population in scope":["UK_and_Europe_Low_Income_Individual_Users (#) = UK_and_Europe_Total_Population * UK_and_Europe_Low_Income_Share_percent / 100 * UK_and_Europe_Low_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_Mid_Income_Individual_Users (#) = UK_and_Europe_Total_Population * UK_and_Europe_Mid_Income_Share_percent / 100 * UK_and_Europe_Mid_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_High_Income_Individual_Users (#) = UK_and_Europe_Total_Population * UK_and_Europe_High_Income_Share_percent / 100 * UK_and_Europe_High_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_Low_Income_Individual_Users (#) = Middle_East_and_Africa_Total_Population * Middle_East_and_Africa_Low_Income_Share_percent / 100 * Middle_East_and_Africa_Low_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_Mid_Income_Individual_Users (#) = Middle_East_and_Africa_Total_Population * Middle_East_and_Africa_Mid_Income_Share_percent / 100 * Middle_East_and_Africa_Mid_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_High_Income_Individual_Users (#) = Middle_East_and_Africa_Total_Population * Middle_East_and_Africa_High_Income_Share_percent / 100 * Middle_East_and_Africa_High_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_Low_Income_Individual_Users (#) = Indian_Subcontinent_Total_Population * Indian_Subcontinent_Low_Income_Share_percent / 100 * Indian_Subcontinent_Low_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_Mid_Income_Individual_Users (#) = Indian_Subcontinent_Total_Population * Indian_Subcontinent_Mid_Income_Share_percent / 100 * Indian_Subcontinent_Mid_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_High_Income_Individual_Users (#) = Indian_Subcontinent_Total_Population * Indian_Subcontinent_High_Income_Share_percent / 100 * Indian_Subcontinent_High_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_Low_Income_Enterprise_Users (#) = UK_and_Europe_Enterprise_Population * UK_and_Europe_Enterprise_Low_Income_Share_percent / 100 * UK_and_Europe_Enterprise_Low_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_Mid_Income_Enterprise_Users (#) = UK_and_Europe_Enterprise_Population * UK_and_Europe_Enterprise_Mid_Income_Share_percent / 100 * UK_and_Europe_Enterprise_Mid_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_High_Income_Enterprise_Users (#) = UK_and_Europe_Enterprise_Population * UK_and_Europe_Enterprise_High_Income_Share_percent / 100 * UK_and_Europe_Enterprise_High_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_Low_Income_Enterprise_Users (#) = Middle_East_and_Africa_Enterprise_Population * Middle_East_and_Africa_Enterprise_Low_Income_Share_percent / 100 * Middle_East_and_Africa_Enterprise_Low_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_Mid_Income_Enterprise_Users (#) = Middle_East_and_Africa_Enterprise_Population * Middle_East_and_Africa_Enterprise_Mid_Income_Share_percent / 100 * Middle_East_and_Africa_Enterprise_Mid_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_High_Income_Enterprise_Users (#) = Middle_East_and_Africa_Enterprise_Population * Middle_East_and_Africa_Enterprise_High_Income_Share_percent / 100 * Middle_East_and_Africa_Enterprise_High_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_Low_Income_Enterprise_Users (#) = Indian_Subcontinent_Enterprise_Population * Indian_Subcontinent_Enterprise_Low_Income_Share_percent / 100 * Indian_Subcontinent_Enterprise_Low_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_Mid_Income_Enterprise_Users (#) = Indian_Subcontinent_Enterprise_Population * Indian_Subcontinent_Enterprise_Mid_Income_Share_percent / 100 * Indian_Subcontinent_Enterprise_Mid_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_High_Income_Enterprise_Users (#) = Indian_Subcontinent_Enterprise_Population * Indian_Subcontinent_Enterprise_High_Income_Share_percent / 100 * Indian_Subcontinent_Enterprise_High_Income_LLM_Adoption_Rate_percent / 100"],"Step 2: Identify the growth rate of the segment":["Total_UK_and_Europe_Low_Income_Individual_Users (#) = UK_and_Europe_Low_Income_Individual_Users * (1 + UK_and_Europe_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_Mid_Income_Individual_Users (#) = UK_and_Europe_Mid_Income_Individual_Users * (1 + UK_and_Europe_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_High_Income_Individual_Users (#) = UK_and_Europe_High_Income_Individual_Users * (1 + UK_and_Europe_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_Low_Income_Individual_Users (#) = Middle_East_and_Africa_Low_Income_Individual_Users * (1 + Middle_East_and_Africa_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_Mid_Income_Individual_Users (#) = Middle_East_and_Africa_Mid_Income_Individual_Users * (1 + Middle_East_and_Africa_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_High_Income_Individual_Users (#) = Middle_East_and_Africa_High_Income_Individual_Users * (1 + Middle_East_and_Africa_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_Low_Income_Individual_Users (#) = Indian_Subcontinent_Low_Income_Individual_Users * (1 + Indian_Subcontinent_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_Mid_Income_Individual_Users (#) = Indian_Subcontinent_Mid_Income_Individual_Users * (1 + Indian_Subcontinent_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_High_Income_Individual_Users (#) = Indian_Subcontinent_High_Income_Individual_Users * (1 + Indian_Subcontinent_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_Low_Income_Enterprise_Users (#) = UK_and_Europe_Low_Income_Enterprise_Users * (1 + UK_and_Europe_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_Mid_Income_Enterprise_Users (#) = UK_and_Europe_Mid_Income_Enterprise_Users * (1 + UK_and_Europe_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_High_Income_Enterprise_Users (#) = UK_and_Europe_High_Income_Enterprise_Users * (1 + UK_and_Europe_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_Low_Income_Enterprise_Users (#) = Middle_East_and_Africa_Low_Income_Enterprise_Users * (1 + Middle_East_and_Africa_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_Mid_Income_Enterprise_Users (#) = Middle_East_and_Africa_Mid_Income_Enterprise_Users * (1 + Middle_East_and_Africa_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_High_Income_Enterprise_Users (#) = Middle_East_and_Africa_High_Income_Enterprise_Users * (1 + Middle_East_and_Africa_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_Low_Income_Enterprise_Users (#) = Indian_Subcontinent_Low_Income_Enterprise_Users * (1 + Indian_Subcontinent_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_Mid_Income_Enterprise_Users (#) = Indian_Subcontinent_Mid_Income_Enterprise_Users * (1 + Indian_Subcontinent_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_High_Income_Enterprise_Users (#) = Indian_Subcontinent_High_Income_Enterprise_Users * (1 + Indian_Subcontinent_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)"],"Step 3: Company market share":["UK_and_Europe_Low_Income_Individual_Addressable_Market (#) = Total_UK_and_Europe_Low_Income_Individual_Users * UK_and_Europe_Low_Income_Individual_Market_Share_percent / 100","UK_and_Europe_Mid_Income_Individual_Addressable_Market (#) = Total_UK_and_Europe_Mid_Income_Individual_Users * UK_and_Europe_Mid_Income_Individual_Market_Share_percent / 100","UK_and_Europe_High_Income_Individual_Addressable_Market (#) = Total_UK_and_Europe_High_Income_Individual_Users * UK_and_Europe_High_Income_Individual_Market_Share_percent / 100","Middle_East_and_Africa_Low_Income_Individual_Addressable_Market (#) = Total_Middle_East_and_Africa_Low_Income_Individual_Users * Middle_East_and_Africa_Low_Income_Individual_Market_Share_percent / 100","Middle_East_and_Africa_Mid_Income_Individual_Addressable_Market (#) = Total_Middle_East_and_Africa_Mid_Income_Individual_Users * Middle_East_and_Africa_Mid_Income_Individual_Market_Share_percent / 100","Middle_East_and_Africa_High_Income_Individual_Addressable_Market (#) = Total_Middle_East_and_Africa_High_Income_Individual_Users * Middle_East_and_Africa_High_Income_Individual_Market_Share_percent / 100","Indian_Subcontinent_Low_Income_Individual_Addressable_Market (#) = Total_Indian_Subcontinent_Low_Income_Individual_Users * Indian_Subcontinent_Low_Income_Individual_Market_Share_percent / 100","Indian_Subcontinent_Mid_Income_Individual_Addressable_Market (#) = Total_Indian_Subcontinent_Mid_Income_Individual_Users * Indian_Subcontinent_Mid_Income_Individual_Market_Share_percent / 100","Indian_Subcontinent_High_Income_Individual_Addressable_Market (#) = Total_Indian_Subcontinent_High_Income_Individual_Users * Indian_Subcontinent_High_Income_Individual_Market_Share_percent / 100","UK_and_Europe_Low_Income_Enterprise_Addressable_Market (#) = Total_UK_and_Europe_Low_Income_Enterprise_Users * UK_and_Europe_Low_Income_Enterprise_Market_Share_percent / 100","UK_and_Europe_Mid_Income_Enterprise_Addressable_Market (#) = Total_UK_and_Europe_Mid_Income_Enterprise_Users * UK_and_Europe_Mid_Income_Enterprise_Market_Share_percent / 100","UK_and_Europe_High_Income_Enterprise_Addressable_Market (#) = Total_UK_and_Europe_High_Income_Enterprise_Users * UK_and_Europe_High_Income_Enterprise_Market_Share_percent / 100","Middle_East_and_Africa_Low_Income_Enterprise_Addressable_Market (#) = Total_Middle_East_and_Africa_Low_Income_Enterprise_Users * Middle_East_and_Africa_Low_Income_Enterprise_Market_Share_percent / 100","Middle_East_and_Africa_Mid_Income_Enterprise_Addressable_Market (#) = Total_Middle_East_and_Africa_Mid_Income_Enterprise_Users * Middle_East_and_Africa_Mid_Income_Enterprise_Market_Share_percent / 100","Middle_East_and_Africa_High_Income_Enterprise_Addressable_Market (#) = Total_Middle_East_and_Africa_High_Income_Enterprise_Users * Middle_East_and_Africa_High_Income_Enterprise_Market_Share_percent / 100","Indian_Subcontinent_Low_Income_Enterprise_Addressable_Market (#) = Total_Indian_Subcontinent_Low_Income_Enterprise_Users * Indian_Subcontinent_Low_Income_Enterprise_Market_Share_percent / 100","Indian_Subcontinent_Mid_Income_Enterprise_Addressable_Market (#) = Total_Indian_Subcontinent_Mid_Income_Enterprise_Users * Indian_Subcontinent_Mid_Income_Enterprise_Market_Share_percent / 100","Indian_Subcontinent_High_Income_Enterprise_Addressable_Market (#) = Total_Indian_Subcontinent_High_Income_Enterprise_Users * Indian_Subcontinent_High_Income_Enterprise_Market_Share_percent / 100"],"Step 4: Factor gains and losses of customers from and to competitors":["UK_and_Europe_Low_Income_Individual_Churn (#) = UK_and_Europe_Low_Income_Individual_Addressable_Market * UK_and_Europe_Low_Income_Individual_Churn_Rate_percent / 100","UK_and_Europe_Mid_Income_Individual_Churn (#) = UK_and_Europe_Mid_Income_Individual_Addressable_Market * UK_and_Europe_Mid_Income_Individual_Churn_Rate_percent / 100","UK_and_Europe_High_Income_Individual_Churn (#) = UK_and_Europe_High_Income_Individual_Addressable_Market * UK_and_Europe_High_Income_Individual_Churn_Rate_percent / 100","Middle_East_and_Africa_Low_Income_Individual_Churn (#) = Middle_East_and_Africa_Low_Income_Individual_Addressable_Market * Middle_East_and_Africa_Low_Income_Individual_Churn_Rate_percent / 100","Middle_East_and_Africa_Mid_Income_Individual_Churn (#) = Middle_East_and_Africa_Mid_Income_Individual_Addressable_Market * Middle_East_and_Africa_Mid_Income_Individual_Churn_Rate_percent / 100","Middle_East_and_Africa_High_Income_Individual_Churn (#) = Middle_East_and_Africa_High_Income_Individual_Addressable_Market * Middle_East_and_Africa_High_Income_Individual_Churn_Rate_percent / 100","Indian_Subcontinent_Low_Income_Individual_Churn (#) = Indian_Subcontinent_Low_Income_Individual_Addressable_Market * Indian_Subcontinent_Low_Income_Individual_Churn_Rate_percent / 100","Indian_Subcontinent_Mid_Income_Individual_Churn (#) = Indian_Subcontinent_Mid_Income_Individual_Addressable_Market * Indian_Subcontinent_Mid_Income_Individual_Churn_Rate_percent / 100","Indian_Subcontinent_High_Income_Individual_Churn (#) = Indian_Subcontinent_High_Income_Individual_Addressable_Market * Indian_Subcontinent_High_Income_Individual_Churn_Rate_percent / 100","UK_and_Europe_Low_Income_Enterprise_Churn (#) = UK_and_Europe_Low_Income_Enterprise_Addressable_Market * UK_and_Europe_Low_Income_Enterprise_Churn_Rate_percent / 100","UK_and_Europe_Mid_Income_Enterprise_Churn (#) = UK_and_Europe_Mid_Income_Enterprise_Addressable_Market * UK_and_Europe_Mid_Income_Enterprise_Churn_Rate_percent / 100","UK_and_Europe_High_Income_Enterprise_Churn (#) = UK_and_Europe_High_Income_Enterprise_Addressable_Market * UK_and_Europe_High_Income_Enterprise_Churn_Rate_percent / 100","Middle_East_and_Africa_Low_Income_Enterprise_Churn (#) = Middle_East_and_Africa_Low_Income_Enterprise_Addressable_Market * Middle_East_and_Africa_Low_Income_Enterprise_Churn_Rate_percent / 100","Middle_East_and_Africa_Mid_Income_Enterprise_Churn (#) = Middle_East_and_Africa_Mid_Income_Enterprise_Addressable_Market * Middle_East_and_Africa_Mid_Income_Enterprise_Churn_Rate_percent / 100","Middle_East_and_Africa_High_Income_Enterprise_Churn (#) = Middle_East_and_Africa_High_Income_Enterprise_Addressable_Market * Middle_East_and_Africa_High_Income_Enterprise_Churn_Rate_percent / 100","Indian_Subcontinent_Low_Income_Enterprise_Churn (#) = Indian_Subcontinent_Low_Income_Enterprise_Addressable_Market * Indian_Subcontinent_Low_Income_Enterprise_Churn_Rate_percent / 100","Indian_Subcontinent_Mid_Income_Enterprise_Churn (#) = Indian_Subcontinent_Mid_Income_Enterprise_Addressable_Market * Indian_Subcontinent_Mid_Income_Enterprise_Churn_Rate_percent / 100","Indian_Subcontinent_High_Income_Enterprise_Churn (#) = Indian_Subcontinent_High_Income_Enterprise_Addressable_Market * Indian_Subcontinent_High_Income_Enterprise_Churn_Rate_percent / 100"],"Step 5: Total user base":["UK_and_Europe_Low_Income_Individual_Net_Users (#) = UK_and_Europe_Low_Income_Individual_Addressable_Market - UK_and_Europe_Low_Income_Individual_Churn","UK_and_Europe_Mid_Income_Individual_Net_Users (#) = UK_and_Europe_Mid_Income_Individual_Addressable_Market - UK_and_Europe_Mid_Income_Individual_Churn","UK_and_Europe_High_Income_Individual_Net_Users (#) = UK_and_Europe_High_Income_Individual_Addressable_Market - UK_and_Europe_High_Income_Individual_Churn","Middle_East_and_Africa_Low_Income_Individual_Net_Users (#) = Middle_East_and_Africa_Low_Income_Individual_Addressable_Market - Middle_East_and_Africa_Low_Income_Individual_Churn","Middle_East_and_Africa_Mid_Income_Individual_Net_Users (#) = Middle_East_and_Africa_Mid_Income_Individual_Addressable_Market - Middle_East_and_Africa_Mid_Income_Individual_Churn","Middle_East_and_Africa_High_Income_Individual_Net_Users (#) = Middle_East_and_Africa_High_Income_Individual_Addressable_Market - Middle_East_and_Africa_High_Income_Individual_Churn","Indian_Subcontinent_Low_Income_Individual_Net_Users (#) = Indian_Subcontinent_Low_Income_Individual_Addressable_Market - Indian_Subcontinent_Low_Income_Individual_Churn","Indian_Subcontinent_Mid_Income_Individual_Net_Users (#) = Indian_Subcontinent_Mid_Income_Individual_Addressable_Market - Indian_Subcontinent_Mid_Income_Individual_Churn","Indian_Subcontinent_High_Income_Individual_Net_Users (#) = Indian_Subcontinent_High_Income_Individual_Addressable_Market - Indian_Subcontinent_High_Income_Individual_Churn","UK_and_Europe_Low_Income_Enterprise_Net_Users (#) = UK_and_Europe_Low_Income_Enterprise_Addressable_Market - UK_and_Europe_Low_Income_Enterprise_Churn","UK_and_Europe_Mid_Income_Enterprise_Net_Users (#) = UK_and_Europe_Mid_Income_Enterprise_Addressable_Market - UK_and_Europe_Mid_Income_Enterprise_Churn","UK_and_Europe_High_Income_Enterprise_Net_Users (#) = UK_and_Europe_High_Income_Enterprise_Addressable_Market - UK_and_Europe_High_Income_Enterprise_Churn","Middle_East_and_Africa_Low_Income_Enterprise_Net_Users (#) = Middle_East_and_Africa_Low_Income_Enterprise_Addressable_Market - Middle_East_and_Africa_Low_Income_Enterprise_Churn","Middle_East_and_Africa_Mid_Income_Enterprise_Net_Users (#) = Middle_East_and_Africa_Mid_Income_Enterprise_Addressable_Market - Middle_East_and_Africa_Mid_Income_Enterprise_Churn","Middle_East_and_Africa_High_Income_Enterprise_Net_Users (#) = Middle_East_and_Africa_High_Income_Enterprise_Addressable_Market - Middle_East_and_Africa_High_Income_Enterprise_Churn","Indian_Subcontinent_Low_Income_Enterprise_Net_Users (#) = Indian_Subcontinent_Low_Income_Enterprise_Addressable_Market - Indian_Subcontinent_Low_Income_Enterprise_Churn","Indian_Subcontinent_Mid_Income_Enterprise_Net_Users (#) = Indian_Subcontinent_Mid_Income_Enterprise_Addressable_Market - Indian_Subcontinent_Mid_Income_Enterprise_Churn","Indian_Subcontinent_High_Income_Enterprise_Net_Users (#) = Indian_Subcontinent_High_Income_Enterprise_Addressable_Market - Indian_Subcontinent_High_Income_Enterprise_Churn","Total_user_base (#) = UK_and_Europe_Low_Income_Individual_Net_Users + UK_and_Europe_Mid_Income_Individual_Net_Users + UK_and_Europe_High_Income_Individual_Net_Users + Middle_East_and_Africa_Low_Income_Individual_Net_Users + Middle_East_and_Africa_Mid_Income_Individual_Net_Users + Middle_East_and_Africa_High_Income_Individual_Net_Users + Indian_Subcontinent_Low_Income_Individual_Net_Users + Indian_Subcontinent_Mid_Income_Individual_Net_Users + Indian_Subcontinent_High_Income_Individual_Net_Users + UK_and_Europe_Low_Income_Enterprise_Net_Users + UK_and_Europe_Mid_Income_Enterprise_Net_Users + UK_and_Europe_High_Income_Enterprise_Net_Users + Middle_East_and_Africa_Low_Income_Enterprise_Net_Users + Middle_East_and_Africa_Mid_Income_Enterprise_Net_Users + Middle_East_and_Africa_High_Income_Enterprise_Net_Users + Indian_Subcontinent_Low_Income_Enterprise_Net_Users + Indian_Subcontinent_Mid_Income_Enterprise_Net_Users + Indian_Subcontinent_High_Income_Enterprise_Net_Users"]}
assumptions={"UK_and_Europe_Total_Population":67000000,"Middle_East_and_Africa_Total_Population":3300000,"Indian_Subcontinent_Total_Population":1400000000,"UK_and_Europe_Low_Income_Share_percent":20,"UK_and_Europe_Mid_Income_Share_percent":50,"UK_and_Europe_High_Income_Share_percent":30,"Middle_East_and_Africa_Low_Income_Share_percent":15,"Middle_East_and_Africa_Mid_Income_Share_percent":45,"Middle_East_and_Africa_High_Income_Share_percent":40,"Indian_Subcontinent_Low_Income_Share_percent":60,"Indian_Subcontinent_Mid_Income_Share_percent":30,"Indian_Subcontinent_High_Income_Share_percent":10,"UK_and_Europe_Low_Income_LLM_Adoption_Rate_percent":5,"UK_and_Europe_Mid_Income_LLM_Adoption_Rate_percent":25,"UK_and_Europe_High_Income_LLM_Adoption_Rate_percent":60,"Middle_East_and_Africa_Low_Income_LLM_Adoption_Rate_percent":3,"Middle_East_and_Africa_Mid_Income_LLM_Adoption_Rate_percent":20,"Middle_East_and_Africa_High_Income_LLM_Adoption_Rate_percent":50,"Indian_Subcontinent_Low_Income_LLM_Adoption_Rate_percent":2,"Indian_Subcontinent_Mid_Income_LLM_Adoption_Rate_percent":15,"Indian_Subcontinent_High_Income_LLM_Adoption_Rate_percent":45,"UK_and_Europe_Enterprise_Population":5500000,"Middle_East_and_Africa_Enterprise_Population":280000,"Indian_Subcontinent_Enterprise_Population":63000000,"UK_and_Europe_Enterprise_Low_Income_Share_percent":30,"UK_and_Europe_Enterprise_Mid_Income_Share_percent":50,"UK_and_Europe_Enterprise_High_Income_Share_percent":20,"Middle_East_and_Africa_Enterprise_Low_Income_Share_percent":25,"Middle_East_and_Africa_Enterprise_Mid_Income_Share_percent":45,"Middle_East_and_Africa_Enterprise_High_Income_Share_percent":30,"Indian_Subcontinent_Enterprise_Low_Income_Share_percent":70,"Indian_Subcontinent_Enterprise_Mid_Income_Share_percent":25,"Indian_Subcontinent_Enterprise_High_Income_Share_percent":5,"UK_and_Europe_Enterprise_Low_Income_LLM_Adoption_Rate_percent":15,"UK_and_Europe_Enterprise_Mid_Income_LLM_Adoption_Rate_percent":45,"UK_and_Europe_Enterprise_High_Income_LLM_Adoption_Rate_percent":80,"Middle_East_and_Africa_Enterprise_Low_Income_LLM_Adoption_Rate_percent":10,"Middle_East_and_Africa_Enterprise_Mid_Income_LLM_Adoption_Rate_percent":35,"Middle_East_and_Africa_Enterprise_High_Income_LLM_Adoption_Rate_percent":70,"Indian_Subcontinent_Enterprise_Low_Income_LLM_Adoption_Rate_percent":8,"Indian_Subcontinent_Enterprise_Mid_Income_LLM_Adoption_Rate_percent":30,"Indian_Subcontinent_Enterprise_High_Income_LLM_Adoption_Rate_percent":65,"UK_and_Europe_Individual_Population_Growth_Rate_percent":0.2,"Middle_East_and_Africa_Individual_Population_Growth_Rate_percent":1.8,"Indian_Subcontinent_Individual_Population_Growth_Rate_percent":0.8,"UK_and_Europe_Enterprise_Population_Growth_Rate_percent":2.5,"Middle_East_and_Africa_Enterprise_Population_Growth_Rate_percent":3.2,"Indian_Subcontinent_Enterprise_Population_Growth_Rate_percent":4.1,"LLM_Adoption_Growth_Rate_percent":15.5,"UK_and_Europe_Low_Income_Individual_Market_Share_percent":2.5,"UK_and_Europe_Mid_Income_Individual_Market_Share_percent":4.2,"UK_and_Europe_High_Income_Individual_Market_Share_percent":6.8,"Middle_East_and_Africa_Low_Income_Individual_Market_Share_percent":1.8,"Middle_East_and_Africa_Mid_Income_Individual_Market_Share_percent":3.5,"Middle_East_and_Africa_High_Income_Individual_Market_Share_percent":5.2,"Indian_Subcontinent_Low_Income_Individual_Market_Share_percent":1.2,"Indian_Subcontinent_Mid_Income_Individual_Market_Share_percent":2.8,"Indian_Subcontinent_High_Income_Individual_Market_Share_percent":4.5,"UK_and_Europe_Low_Income_Enterprise_Market_Share_percent":3.8,"UK_and_Europe_Mid_Income_Enterprise_Market_Share_percent":6.2,"UK_and_Europe_High_Income_Enterprise_Market_Share_percent":9.5,"Middle_East_and_Africa_Low_Income_Enterprise_Market_Share_percent":2.5,"Middle_East_and_Africa_Mid_Income_Enterprise_Market_Share_percent":4.8,"Middle_East_and_Africa_High_Income_Enterprise_Market_Share_percent":7.3,"Indian_Subcontinent_Low_Income_Enterprise_Market_Share_percent":1.5,"Indian_Subcontinent_Mid_Income_Enterprise_Market_Share_percent":3.2,"Indian_Subcontinent_High_Income_Enterprise_Market_Share_percent":5.8,"UK_and_Europe_Low_Income_Individual_Churn_Rate_percent":8,"UK_and_Europe_Mid_Income_Individual_Churn_Rate_percent":6,"UK_and_Europe_High_Income_Individual_Churn_Rate_percent":4,"Middle_East_and_Africa_Low_Income_Individual_Churn_Rate_percent":10,"Middle_East_and_Africa_Mid_Income_Individual_Churn_Rate_percent":7,"Middle_East_and_Africa_High_Income_Individual_Churn_Rate_percent":5,"Indian_Subcontinent_Low_Income_Individual_Churn_Rate_percent":12,"Indian_Subcontinent_Mid_Income_Individual_Churn_Rate_percent":8,"Indian_Subcontinent_High_Income_Individual_Churn_Rate_percent":6,"UK_and_Europe_Low_Income_Enterprise_Churn_Rate_percent":5,"UK_and_Europe_Mid_Income_Enterprise_Churn_Rate_percent":3,"UK_and_Europe_High_Income_Enterprise_Churn_Rate_percent":2,"Middle_East_and_Africa_Low_Income_Enterprise_Churn_Rate_percent":7,"Middle_East_and_Africa_Mid_Income_Enterprise_Churn_Rate_percent":4,"Middle_East_and_Africa_High_Income_Enterprise_Churn_Rate_percent":3,"Indian_Subcontinent_Low_Income_Enterprise_Churn_Rate_percent":9,"Indian_Subcontinent_Mid_Income_Enterprise_Churn_Rate_percent":6,"Indian_Subcontinent_High_Income_Enterprise_Churn_Rate_percent":4}
analysis_time_frame=["H1 2025","H2 2025"]
period_ranges=[["january","June",2025],["July","december",2025]]
user_description="I want to open a competitor for OpenAI which provides 3 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London"



description_payload = {
    "formula":formula,
    "assumptions":assumptions,
    "analysis_time_frame":analysis_time_frame,#['2025', '2026', '2027'],
    "period_ranges":period_ranges,#[['January', 'December', 2025], ['January', 'December', 2026], ['January', 'December', 2027]],
    "user_description":user_description#"I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London",
}

user_base_ass_val = requests.post(
    f"{BASE_URL}/estimate_user_base_assumption_values",
    json=description_payload,
    proxies=proxies
)

print("\nResponse from /user_base_ass_val.....................")
print(user_base_ass_val.text)

#......................................................................
'''

# formula= {"Step 1: Identify the size of the population in scope":["UK_and_Europe_Low_Income_Individual_Users (#) = UK_and_Europe_Total_Population * UK_and_Europe_Low_Income_Share_percent / 100 * UK_and_Europe_Low_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_Mid_Income_Individual_Users (#) = UK_and_Europe_Total_Population * UK_and_Europe_Mid_Income_Share_percent / 100 * UK_and_Europe_Mid_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_High_Income_Individual_Users (#) = UK_and_Europe_Total_Population * UK_and_Europe_High_Income_Share_percent / 100 * UK_and_Europe_High_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_Low_Income_Individual_Users (#) = Middle_East_and_Africa_Total_Population * Middle_East_and_Africa_Low_Income_Share_percent / 100 * Middle_East_and_Africa_Low_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_Mid_Income_Individual_Users (#) = Middle_East_and_Africa_Total_Population * Middle_East_and_Africa_Mid_Income_Share_percent / 100 * Middle_East_and_Africa_Mid_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_High_Income_Individual_Users (#) = Middle_East_and_Africa_Total_Population * Middle_East_and_Africa_High_Income_Share_percent / 100 * Middle_East_and_Africa_High_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_Low_Income_Individual_Users (#) = Indian_Subcontinent_Total_Population * Indian_Subcontinent_Low_Income_Share_percent / 100 * Indian_Subcontinent_Low_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_Mid_Income_Individual_Users (#) = Indian_Subcontinent_Total_Population * Indian_Subcontinent_Mid_Income_Share_percent / 100 * Indian_Subcontinent_Mid_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_High_Income_Individual_Users (#) = Indian_Subcontinent_Total_Population * Indian_Subcontinent_High_Income_Share_percent / 100 * Indian_Subcontinent_High_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_Low_Income_Enterprise_Users (#) = UK_and_Europe_Enterprise_Population * UK_and_Europe_Enterprise_Low_Income_Share_percent / 100 * UK_and_Europe_Enterprise_Low_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_Mid_Income_Enterprise_Users (#) = UK_and_Europe_Enterprise_Population * UK_and_Europe_Enterprise_Mid_Income_Share_percent / 100 * UK_and_Europe_Enterprise_Mid_Income_LLM_Adoption_Rate_percent / 100","UK_and_Europe_High_Income_Enterprise_Users (#) = UK_and_Europe_Enterprise_Population * UK_and_Europe_Enterprise_High_Income_Share_percent / 100 * UK_and_Europe_Enterprise_High_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_Low_Income_Enterprise_Users (#) = Middle_East_and_Africa_Enterprise_Population * Middle_East_and_Africa_Enterprise_Low_Income_Share_percent / 100 * Middle_East_and_Africa_Enterprise_Low_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_Mid_Income_Enterprise_Users (#) = Middle_East_and_Africa_Enterprise_Population * Middle_East_and_Africa_Enterprise_Mid_Income_Share_percent / 100 * Middle_East_and_Africa_Enterprise_Mid_Income_LLM_Adoption_Rate_percent / 100","Middle_East_and_Africa_High_Income_Enterprise_Users (#) = Middle_East_and_Africa_Enterprise_Population * Middle_East_and_Africa_Enterprise_High_Income_Share_percent / 100 * Middle_East_and_Africa_Enterprise_High_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_Low_Income_Enterprise_Users (#) = Indian_Subcontinent_Enterprise_Population * Indian_Subcontinent_Enterprise_Low_Income_Share_percent / 100 * Indian_Subcontinent_Enterprise_Low_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_Mid_Income_Enterprise_Users (#) = Indian_Subcontinent_Enterprise_Population * Indian_Subcontinent_Enterprise_Mid_Income_Share_percent / 100 * Indian_Subcontinent_Enterprise_Mid_Income_LLM_Adoption_Rate_percent / 100","Indian_Subcontinent_High_Income_Enterprise_Users (#) = Indian_Subcontinent_Enterprise_Population * Indian_Subcontinent_Enterprise_High_Income_Share_percent / 100 * Indian_Subcontinent_Enterprise_High_Income_LLM_Adoption_Rate_percent / 100"],"Step 2: Identify the growth rate of the segment":["Total_UK_and_Europe_Low_Income_Individual_Users (#) = UK_and_Europe_Low_Income_Individual_Users * (1 + UK_and_Europe_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_Mid_Income_Individual_Users (#) = UK_and_Europe_Mid_Income_Individual_Users * (1 + UK_and_Europe_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_High_Income_Individual_Users (#) = UK_and_Europe_High_Income_Individual_Users * (1 + UK_and_Europe_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_Low_Income_Individual_Users (#) = Middle_East_and_Africa_Low_Income_Individual_Users * (1 + Middle_East_and_Africa_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_Mid_Income_Individual_Users (#) = Middle_East_and_Africa_Mid_Income_Individual_Users * (1 + Middle_East_and_Africa_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_High_Income_Individual_Users (#) = Middle_East_and_Africa_High_Income_Individual_Users * (1 + Middle_East_and_Africa_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_Low_Income_Individual_Users (#) = Indian_Subcontinent_Low_Income_Individual_Users * (1 + Indian_Subcontinent_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_Mid_Income_Individual_Users (#) = Indian_Subcontinent_Mid_Income_Individual_Users * (1 + Indian_Subcontinent_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_High_Income_Individual_Users (#) = Indian_Subcontinent_High_Income_Individual_Users * (1 + Indian_Subcontinent_Individual_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_Low_Income_Enterprise_Users (#) = UK_and_Europe_Low_Income_Enterprise_Users * (1 + UK_and_Europe_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_Mid_Income_Enterprise_Users (#) = UK_and_Europe_Mid_Income_Enterprise_Users * (1 + UK_and_Europe_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_UK_and_Europe_High_Income_Enterprise_Users (#) = UK_and_Europe_High_Income_Enterprise_Users * (1 + UK_and_Europe_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_Low_Income_Enterprise_Users (#) = Middle_East_and_Africa_Low_Income_Enterprise_Users * (1 + Middle_East_and_Africa_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_Mid_Income_Enterprise_Users (#) = Middle_East_and_Africa_Mid_Income_Enterprise_Users * (1 + Middle_East_and_Africa_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Middle_East_and_Africa_High_Income_Enterprise_Users (#) = Middle_East_and_Africa_High_Income_Enterprise_Users * (1 + Middle_East_and_Africa_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_Low_Income_Enterprise_Users (#) = Indian_Subcontinent_Low_Income_Enterprise_Users * (1 + Indian_Subcontinent_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_Mid_Income_Enterprise_Users (#) = Indian_Subcontinent_Mid_Income_Enterprise_Users * (1 + Indian_Subcontinent_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)","Total_Indian_Subcontinent_High_Income_Enterprise_Users (#) = Indian_Subcontinent_High_Income_Enterprise_Users * (1 + Indian_Subcontinent_Enterprise_Population_Growth_Rate_percent / 100) * (1 + LLM_Adoption_Growth_Rate_percent / 100)"],"Step 3: Company market share":["UK_and_Europe_Low_Income_Individual_Addressable_Market (#) = Total_UK_and_Europe_Low_Income_Individual_Users * UK_and_Europe_Low_Income_Individual_Market_Share_percent / 100","UK_and_Europe_Mid_Income_Individual_Addressable_Market (#) = Total_UK_and_Europe_Mid_Income_Individual_Users * UK_and_Europe_Mid_Income_Individual_Market_Share_percent / 100","UK_and_Europe_High_Income_Individual_Addressable_Market (#) = Total_UK_and_Europe_High_Income_Individual_Users * UK_and_Europe_High_Income_Individual_Market_Share_percent / 100","Middle_East_and_Africa_Low_Income_Individual_Addressable_Market (#) = Total_Middle_East_and_Africa_Low_Income_Individual_Users * Middle_East_and_Africa_Low_Income_Individual_Market_Share_percent / 100","Middle_East_and_Africa_Mid_Income_Individual_Addressable_Market (#) = Total_Middle_East_and_Africa_Mid_Income_Individual_Users * Middle_East_and_Africa_Mid_Income_Individual_Market_Share_percent / 100","Middle_East_and_Africa_High_Income_Individual_Addressable_Market (#) = Total_Middle_East_and_Africa_High_Income_Individual_Users * Middle_East_and_Africa_High_Income_Individual_Market_Share_percent / 100","Indian_Subcontinent_Low_Income_Individual_Addressable_Market (#) = Total_Indian_Subcontinent_Low_Income_Individual_Users * Indian_Subcontinent_Low_Income_Individual_Market_Share_percent / 100","Indian_Subcontinent_Mid_Income_Individual_Addressable_Market (#) = Total_Indian_Subcontinent_Mid_Income_Individual_Users * Indian_Subcontinent_Mid_Income_Individual_Market_Share_percent / 100","Indian_Subcontinent_High_Income_Individual_Addressable_Market (#) = Total_Indian_Subcontinent_High_Income_Individual_Users * Indian_Subcontinent_High_Income_Individual_Market_Share_percent / 100","UK_and_Europe_Low_Income_Enterprise_Addressable_Market (#) = Total_UK_and_Europe_Low_Income_Enterprise_Users * UK_and_Europe_Low_Income_Enterprise_Market_Share_percent / 100","UK_and_Europe_Mid_Income_Enterprise_Addressable_Market (#) = Total_UK_and_Europe_Mid_Income_Enterprise_Users * UK_and_Europe_Mid_Income_Enterprise_Market_Share_percent / 100","UK_and_Europe_High_Income_Enterprise_Addressable_Market (#) = Total_UK_and_Europe_High_Income_Enterprise_Users * UK_and_Europe_High_Income_Enterprise_Market_Share_percent / 100","Middle_East_and_Africa_Low_Income_Enterprise_Addressable_Market (#) = Total_Middle_East_and_Africa_Low_Income_Enterprise_Users * Middle_East_and_Africa_Low_Income_Enterprise_Market_Share_percent / 100","Middle_East_and_Africa_Mid_Income_Enterprise_Addressable_Market (#) = Total_Middle_East_and_Africa_Mid_Income_Enterprise_Users * Middle_East_and_Africa_Mid_Income_Enterprise_Market_Share_percent / 100","Middle_East_and_Africa_High_Income_Enterprise_Addressable_Market (#) = Total_Middle_East_and_Africa_High_Income_Enterprise_Users * Middle_East_and_Africa_High_Income_Enterprise_Market_Share_percent / 100","Indian_Subcontinent_Low_Income_Enterprise_Addressable_Market (#) = Total_Indian_Subcontinent_Low_Income_Enterprise_Users * Indian_Subcontinent_Low_Income_Enterprise_Market_Share_percent / 100","Indian_Subcontinent_Mid_Income_Enterprise_Addressable_Market (#) = Total_Indian_Subcontinent_Mid_Income_Enterprise_Users * Indian_Subcontinent_Mid_Income_Enterprise_Market_Share_percent / 100","Indian_Subcontinent_High_Income_Enterprise_Addressable_Market (#) = Total_Indian_Subcontinent_High_Income_Enterprise_Users * Indian_Subcontinent_High_Income_Enterprise_Market_Share_percent / 100"],"Step 4: Factor gains and losses of customers from and to competitors":["UK_and_Europe_Low_Income_Individual_Churn (#) = UK_and_Europe_Low_Income_Individual_Addressable_Market * UK_and_Europe_Low_Income_Individual_Churn_Rate_percent / 100","UK_and_Europe_Mid_Income_Individual_Churn (#) = UK_and_Europe_Mid_Income_Individual_Addressable_Market * UK_and_Europe_Mid_Income_Individual_Churn_Rate_percent / 100","UK_and_Europe_High_Income_Individual_Churn (#) = UK_and_Europe_High_Income_Individual_Addressable_Market * UK_and_Europe_High_Income_Individual_Churn_Rate_percent / 100","Middle_East_and_Africa_Low_Income_Individual_Churn (#) = Middle_East_and_Africa_Low_Income_Individual_Addressable_Market * Middle_East_and_Africa_Low_Income_Individual_Churn_Rate_percent / 100","Middle_East_and_Africa_Mid_Income_Individual_Churn (#) = Middle_East_and_Africa_Mid_Income_Individual_Addressable_Market * Middle_East_and_Africa_Mid_Income_Individual_Churn_Rate_percent / 100","Middle_East_and_Africa_High_Income_Individual_Churn (#) = Middle_East_and_Africa_High_Income_Individual_Addressable_Market * Middle_East_and_Africa_High_Income_Individual_Churn_Rate_percent / 100","Indian_Subcontinent_Low_Income_Individual_Churn (#) = Indian_Subcontinent_Low_Income_Individual_Addressable_Market * Indian_Subcontinent_Low_Income_Individual_Churn_Rate_percent / 100","Indian_Subcontinent_Mid_Income_Individual_Churn (#) = Indian_Subcontinent_Mid_Income_Individual_Addressable_Market * Indian_Subcontinent_Mid_Income_Individual_Churn_Rate_percent / 100","Indian_Subcontinent_High_Income_Individual_Churn (#) = Indian_Subcontinent_High_Income_Individual_Addressable_Market * Indian_Subcontinent_High_Income_Individual_Churn_Rate_percent / 100","UK_and_Europe_Low_Income_Enterprise_Churn (#) = UK_and_Europe_Low_Income_Enterprise_Addressable_Market * UK_and_Europe_Low_Income_Enterprise_Churn_Rate_percent / 100","UK_and_Europe_Mid_Income_Enterprise_Churn (#) = UK_and_Europe_Mid_Income_Enterprise_Addressable_Market * UK_and_Europe_Mid_Income_Enterprise_Churn_Rate_percent / 100","UK_and_Europe_High_Income_Enterprise_Churn (#) = UK_and_Europe_High_Income_Enterprise_Addressable_Market * UK_and_Europe_High_Income_Enterprise_Churn_Rate_percent / 100","Middle_East_and_Africa_Low_Income_Enterprise_Churn (#) = Middle_East_and_Africa_Low_Income_Enterprise_Addressable_Market * Middle_East_and_Africa_Low_Income_Enterprise_Churn_Rate_percent / 100","Middle_East_and_Africa_Mid_Income_Enterprise_Churn (#) = Middle_East_and_Africa_Mid_Income_Enterprise_Addressable_Market * Middle_East_and_Africa_Mid_Income_Enterprise_Churn_Rate_percent / 100","Middle_East_and_Africa_High_Income_Enterprise_Churn (#) = Middle_East_and_Africa_High_Income_Enterprise_Addressable_Market * Middle_East_and_Africa_High_Income_Enterprise_Churn_Rate_percent / 100","Indian_Subcontinent_Low_Income_Enterprise_Churn (#) = Indian_Subcontinent_Low_Income_Enterprise_Addressable_Market * Indian_Subcontinent_Low_Income_Enterprise_Churn_Rate_percent / 100","Indian_Subcontinent_Mid_Income_Enterprise_Churn (#) = Indian_Subcontinent_Mid_Income_Enterprise_Addressable_Market * Indian_Subcontinent_Mid_Income_Enterprise_Churn_Rate_percent / 100","Indian_Subcontinent_High_Income_Enterprise_Churn (#) = Indian_Subcontinent_High_Income_Enterprise_Addressable_Market * Indian_Subcontinent_High_Income_Enterprise_Churn_Rate_percent / 100"],"Step 5: Total user base":["UK_and_Europe_Low_Income_Individual_Net_Users (#) = UK_and_Europe_Low_Income_Individual_Addressable_Market - UK_and_Europe_Low_Income_Individual_Churn","UK_and_Europe_Mid_Income_Individual_Net_Users (#) = UK_and_Europe_Mid_Income_Individual_Addressable_Market - UK_and_Europe_Mid_Income_Individual_Churn","UK_and_Europe_High_Income_Individual_Net_Users (#) = UK_and_Europe_High_Income_Individual_Addressable_Market - UK_and_Europe_High_Income_Individual_Churn","Middle_East_and_Africa_Low_Income_Individual_Net_Users (#) = Middle_East_and_Africa_Low_Income_Individual_Addressable_Market - Middle_East_and_Africa_Low_Income_Individual_Churn","Middle_East_and_Africa_Mid_Income_Individual_Net_Users (#) = Middle_East_and_Africa_Mid_Income_Individual_Addressable_Market - Middle_East_and_Africa_Mid_Income_Individual_Churn","Middle_East_and_Africa_High_Income_Individual_Net_Users (#) = Middle_East_and_Africa_High_Income_Individual_Addressable_Market - Middle_East_and_Africa_High_Income_Individual_Churn","Indian_Subcontinent_Low_Income_Individual_Net_Users (#) = Indian_Subcontinent_Low_Income_Individual_Addressable_Market - Indian_Subcontinent_Low_Income_Individual_Churn","Indian_Subcontinent_Mid_Income_Individual_Net_Users (#) = Indian_Subcontinent_Mid_Income_Individual_Addressable_Market - Indian_Subcontinent_Mid_Income_Individual_Churn","Indian_Subcontinent_High_Income_Individual_Net_Users (#) = Indian_Subcontinent_High_Income_Individual_Addressable_Market - Indian_Subcontinent_High_Income_Individual_Churn","UK_and_Europe_Low_Income_Enterprise_Net_Users (#) = UK_and_Europe_Low_Income_Enterprise_Addressable_Market - UK_and_Europe_Low_Income_Enterprise_Churn","UK_and_Europe_Mid_Income_Enterprise_Net_Users (#) = UK_and_Europe_Mid_Income_Enterprise_Addressable_Market - UK_and_Europe_Mid_Income_Enterprise_Churn","UK_and_Europe_High_Income_Enterprise_Net_Users (#) = UK_and_Europe_High_Income_Enterprise_Addressable_Market - UK_and_Europe_High_Income_Enterprise_Churn","Middle_East_and_Africa_Low_Income_Enterprise_Net_Users (#) = Middle_East_and_Africa_Low_Income_Enterprise_Addressable_Market - Middle_East_and_Africa_Low_Income_Enterprise_Churn","Middle_East_and_Africa_Mid_Income_Enterprise_Net_Users (#) = Middle_East_and_Africa_Mid_Income_Enterprise_Addressable_Market - Middle_East_and_Africa_Mid_Income_Enterprise_Churn","Middle_East_and_Africa_High_Income_Enterprise_Net_Users (#) = Middle_East_and_Africa_High_Income_Enterprise_Addressable_Market - Middle_East_and_Africa_High_Income_Enterprise_Churn","Indian_Subcontinent_Low_Income_Enterprise_Net_Users (#) = Indian_Subcontinent_Low_Income_Enterprise_Addressable_Market - Indian_Subcontinent_Low_Income_Enterprise_Churn","Indian_Subcontinent_Mid_Income_Enterprise_Net_Users (#) = Indian_Subcontinent_Mid_Income_Enterprise_Addressable_Market - Indian_Subcontinent_Mid_Income_Enterprise_Churn","Indian_Subcontinent_High_Income_Enterprise_Net_Users (#) = Indian_Subcontinent_High_Income_Enterprise_Addressable_Market - Indian_Subcontinent_High_Income_Enterprise_Churn","Total_user_base (#) = UK_and_Europe_Low_Income_Individual_Net_Users + UK_and_Europe_Mid_Income_Individual_Net_Users + UK_and_Europe_High_Income_Individual_Net_Users + Middle_East_and_Africa_Low_Income_Individual_Net_Users + Middle_East_and_Africa_Mid_Income_Individual_Net_Users + Middle_East_and_Africa_High_Income_Individual_Net_Users + Indian_Subcontinent_Low_Income_Individual_Net_Users + Indian_Subcontinent_Mid_Income_Individual_Net_Users + Indian_Subcontinent_High_Income_Individual_Net_Users + UK_and_Europe_Low_Income_Enterprise_Net_Users + UK_and_Europe_Mid_Income_Enterprise_Net_Users + UK_and_Europe_High_Income_Enterprise_Net_Users + Middle_East_and_Africa_Low_Income_Enterprise_Net_Users + Middle_East_and_Africa_Mid_Income_Enterprise_Net_Users + Middle_East_and_Africa_High_Income_Enterprise_Net_Users + Indian_Subcontinent_Low_Income_Enterprise_Net_Users + Indian_Subcontinent_Mid_Income_Enterprise_Net_Users + Indian_Subcontinent_High_Income_Enterprise_Net_Users"]}
# assumptions={"UK_and_Europe_Total_Population":67000000,"Middle_East_and_Africa_Total_Population":3300000,"Indian_Subcontinent_Total_Population":1400000000,"UK_and_Europe_Low_Income_Share_percent":20,"UK_and_Europe_Mid_Income_Share_percent":50,"UK_and_Europe_High_Income_Share_percent":30,"Middle_East_and_Africa_Low_Income_Share_percent":15,"Middle_East_and_Africa_Mid_Income_Share_percent":45,"Middle_East_and_Africa_High_Income_Share_percent":40,"Indian_Subcontinent_Low_Income_Share_percent":60,"Indian_Subcontinent_Mid_Income_Share_percent":30,"Indian_Subcontinent_High_Income_Share_percent":10,"UK_and_Europe_Low_Income_LLM_Adoption_Rate_percent":5,"UK_and_Europe_Mid_Income_LLM_Adoption_Rate_percent":25,"UK_and_Europe_High_Income_LLM_Adoption_Rate_percent":60,"Middle_East_and_Africa_Low_Income_LLM_Adoption_Rate_percent":3,"Middle_East_and_Africa_Mid_Income_LLM_Adoption_Rate_percent":20,"Middle_East_and_Africa_High_Income_LLM_Adoption_Rate_percent":50,"Indian_Subcontinent_Low_Income_LLM_Adoption_Rate_percent":2,"Indian_Subcontinent_Mid_Income_LLM_Adoption_Rate_percent":15,"Indian_Subcontinent_High_Income_LLM_Adoption_Rate_percent":45,"UK_and_Europe_Enterprise_Population":5500000,"Middle_East_and_Africa_Enterprise_Population":280000,"Indian_Subcontinent_Enterprise_Population":63000000,"UK_and_Europe_Enterprise_Low_Income_Share_percent":30,"UK_and_Europe_Enterprise_Mid_Income_Share_percent":50,"UK_and_Europe_Enterprise_High_Income_Share_percent":20,"Middle_East_and_Africa_Enterprise_Low_Income_Share_percent":25,"Middle_East_and_Africa_Enterprise_Mid_Income_Share_percent":45,"Middle_East_and_Africa_Enterprise_High_Income_Share_percent":30,"Indian_Subcontinent_Enterprise_Low_Income_Share_percent":70,"Indian_Subcontinent_Enterprise_Mid_Income_Share_percent":25,"Indian_Subcontinent_Enterprise_High_Income_Share_percent":5,"UK_and_Europe_Enterprise_Low_Income_LLM_Adoption_Rate_percent":15,"UK_and_Europe_Enterprise_Mid_Income_LLM_Adoption_Rate_percent":45,"UK_and_Europe_Enterprise_High_Income_LLM_Adoption_Rate_percent":80,"Middle_East_and_Africa_Enterprise_Low_Income_LLM_Adoption_Rate_percent":10,"Middle_East_and_Africa_Enterprise_Mid_Income_LLM_Adoption_Rate_percent":35,"Middle_East_and_Africa_Enterprise_High_Income_LLM_Adoption_Rate_percent":70,"Indian_Subcontinent_Enterprise_Low_Income_LLM_Adoption_Rate_percent":8,"Indian_Subcontinent_Enterprise_Mid_Income_LLM_Adoption_Rate_percent":30,"Indian_Subcontinent_Enterprise_High_Income_LLM_Adoption_Rate_percent":65,"UK_and_Europe_Individual_Population_Growth_Rate_percent":0.2,"Middle_East_and_Africa_Individual_Population_Growth_Rate_percent":1.8,"Indian_Subcontinent_Individual_Population_Growth_Rate_percent":0.8,"UK_and_Europe_Enterprise_Population_Growth_Rate_percent":2.5,"Middle_East_and_Africa_Enterprise_Population_Growth_Rate_percent":3.2,"Indian_Subcontinent_Enterprise_Population_Growth_Rate_percent":4.1,"LLM_Adoption_Growth_Rate_percent":15.5,"UK_and_Europe_Low_Income_Individual_Market_Share_percent":2.5,"UK_and_Europe_Mid_Income_Individual_Market_Share_percent":4.2,"UK_and_Europe_High_Income_Individual_Market_Share_percent":6.8,"Middle_East_and_Africa_Low_Income_Individual_Market_Share_percent":1.8,"Middle_East_and_Africa_Mid_Income_Individual_Market_Share_percent":3.5,"Middle_East_and_Africa_High_Income_Individual_Market_Share_percent":5.2,"Indian_Subcontinent_Low_Income_Individual_Market_Share_percent":1.2,"Indian_Subcontinent_Mid_Income_Individual_Market_Share_percent":2.8,"Indian_Subcontinent_High_Income_Individual_Market_Share_percent":4.5,"UK_and_Europe_Low_Income_Enterprise_Market_Share_percent":3.8,"UK_and_Europe_Mid_Income_Enterprise_Market_Share_percent":6.2,"UK_and_Europe_High_Income_Enterprise_Market_Share_percent":9.5,"Middle_East_and_Africa_Low_Income_Enterprise_Market_Share_percent":2.5,"Middle_East_and_Africa_Mid_Income_Enterprise_Market_Share_percent":4.8,"Middle_East_and_Africa_High_Income_Enterprise_Market_Share_percent":7.3,"Indian_Subcontinent_Low_Income_Enterprise_Market_Share_percent":1.5,"Indian_Subcontinent_Mid_Income_Enterprise_Market_Share_percent":3.2,"Indian_Subcontinent_High_Income_Enterprise_Market_Share_percent":5.8,"UK_and_Europe_Low_Income_Individual_Churn_Rate_percent":8,"UK_and_Europe_Mid_Income_Individual_Churn_Rate_percent":6,"UK_and_Europe_High_Income_Individual_Churn_Rate_percent":4,"Middle_East_and_Africa_Low_Income_Individual_Churn_Rate_percent":10,"Middle_East_and_Africa_Mid_Income_Individual_Churn_Rate_percent":7,"Middle_East_and_Africa_High_Income_Individual_Churn_Rate_percent":5,"Indian_Subcontinent_Low_Income_Individual_Churn_Rate_percent":12,"Indian_Subcontinent_Mid_Income_Individual_Churn_Rate_percent":8,"Indian_Subcontinent_High_Income_Individual_Churn_Rate_percent":6,"UK_and_Europe_Low_Income_Enterprise_Churn_Rate_percent":5,"UK_and_Europe_Mid_Income_Enterprise_Churn_Rate_percent":3,"UK_and_Europe_High_Income_Enterprise_Churn_Rate_percent":2,"Middle_East_and_Africa_Low_Income_Enterprise_Churn_Rate_percent":7,"Middle_East_and_Africa_Mid_Income_Enterprise_Churn_Rate_percent":4,"Middle_East_and_Africa_High_Income_Enterprise_Churn_Rate_percent":3,"Indian_Subcontinent_Low_Income_Enterprise_Churn_Rate_percent":9,"Indian_Subcontinent_Mid_Income_Enterprise_Churn_Rate_percent":6,"Indian_Subcontinent_High_Income_Enterprise_Churn_Rate_percent":4}
# #formula =  {"Step_1:_Identify_the_size_of_the_population_in_scope":["UK_Europe_AI_Low_Adopters (#) = UK_Europe_Population * UK_Europe_AI_Low_Adopters_Share / 100","UK_Europe_AI_Medium_Adopters (#) = UK_Europe_Population * UK_Europe_AI_Medium_Adopters_Share / 100","UK_Europe_AI_High_Adopters (#) = UK_Europe_Population * UK_Europe_AI_High_Adopters_Share / 100","UK_Europe_Low_Adopters_Basic_Users (#) = UK_Europe_AI_Low_Adopters * Low_Adopters_Basic_Subscription_Rate / 100","UK_Europe_Low_Adopters_Premium_Users (#) = UK_Europe_AI_Low_Adopters * Low_Adopters_Premium_Subscription_Rate / 100","UK_Europe_Medium_Adopters_Basic_Users (#) = UK_Europe_AI_Medium_Adopters * Medium_Adopters_Basic_Subscription_Rate / 100","UK_Europe_Medium_Adopters_Premium_Users (#) = UK_Europe_AI_Medium_Adopters * Medium_Adopters_Premium_Subscription_Rate / 100","UK_Europe_High_Adopters_Basic_Users (#) = UK_Europe_AI_High_Adopters * High_Adopters_Basic_Subscription_Rate / 100","UK_Europe_High_Adopters_Premium_Users (#) = UK_Europe_AI_High_Adopters * High_Adopters_Premium_Subscription_Rate / 100","Middle_East_Africa_AI_Low_Adopters (#) = Middle_East_Africa_Population * Middle_East_Africa_AI_Low_Adopters_Share / 100","Middle_East_Africa_AI_Medium_Adopters (#) = Middle_East_Africa_Population * Middle_East_Africa_AI_Medium_Adopters_Share / 100","Middle_East_Africa_AI_High_Adopters (#) = Middle_East_Africa_Population * Middle_East_Africa_AI_High_Adopters_Share / 100","Middle_East_Africa_Low_Adopters_Basic_Users (#) = Middle_East_Africa_AI_Low_Adopters * Low_Adopters_Basic_Subscription_Rate / 100","Middle_East_Africa_Low_Adopters_Premium_Users (#) = Middle_East_Africa_AI_Low_Adopters * Low_Adopters_Premium_Subscription_Rate / 100","Middle_East_Africa_Medium_Adopters_Basic_Users (#) = Middle_East_Africa_AI_Medium_Adopters * Medium_Adopters_Basic_Subscription_Rate / 100","Middle_East_Africa_Medium_Adopters_Premium_Users (#) = Middle_East_Africa_AI_Medium_Adopters * Medium_Adopters_Premium_Subscription_Rate / 100","Middle_East_Africa_High_Adopters_Basic_Users (#) = Middle_East_Africa_AI_High_Adopters * High_Adopters_Basic_Subscription_Rate / 100","Middle_East_Africa_High_Adopters_Premium_Users (#) = Middle_East_Africa_AI_High_Adopters * High_Adopters_Premium_Subscription_Rate / 100","Indian_Subcontinent_AI_Low_Adopters (#) = Indian_Subcontinent_Population * Indian_Subcontinent_AI_Low_Adopters_Share / 100","Indian_Subcontinent_AI_Medium_Adopters (#) = Indian_Subcontinent_Population * Indian_Subcontinent_AI_Medium_Adopters_Share / 100","Indian_Subcontinent_AI_High_Adopters (#) = Indian_Subcontinent_Population * Indian_Subcontinent_AI_High_Adopters_Share / 100","Indian_Subcontinent_Low_Adopters_Basic_Users (#) = Indian_Subcontinent_AI_Low_Adopters * Low_Adopters_Basic_Subscription_Rate / 100","Indian_Subcontinent_Low_Adopters_Premium_Users (#) = Indian_Subcontinent_AI_Low_Adopters * Low_Adopters_Premium_Subscription_Rate / 100","Indian_Subcontinent_Medium_Adopters_Basic_Users (#) = Indian_Subcontinent_AI_Medium_Adopters * Medium_Adopters_Basic_Subscription_Rate / 100","Indian_Subcontinent_Medium_Adopters_Premium_Users (#) = Indian_Subcontinent_AI_Medium_Adopters * Medium_Adopters_Premium_Subscription_Rate / 100","Indian_Subcontinent_High_Adopters_Basic_Users (#) = Indian_Subcontinent_AI_High_Adopters * High_Adopters_Basic_Subscription_Rate / 100","Indian_Subcontinent_High_Adopters_Premium_Users (#) = Indian_Subcontinent_AI_High_Adopters * High_Adopters_Premium_Subscription_Rate / 100"],"Step_2:_Identify_the_growth_rate_of_the_segment":["Total_UK_Europe_Low_Adopters_Basic_Users (#) = UK_Europe_Low_Adopters_Basic_Users * (1 + UK_Europe_Population_Growth_Rate / 100)","Total_UK_Europe_Low_Adopters_Premium_Users (#) = UK_Europe_Low_Adopters_Premium_Users * (1 + UK_Europe_Population_Growth_Rate / 100)","Total_UK_Europe_Medium_Adopters_Basic_Users (#) = UK_Europe_Medium_Adopters_Basic_Users * (1 + UK_Europe_Population_Growth_Rate / 100)","Total_UK_Europe_Medium_Adopters_Premium_Users (#) = UK_Europe_Medium_Adopters_Premium_Users * (1 + UK_Europe_Population_Growth_Rate / 100)","Total_UK_Europe_High_Adopters_Basic_Users (#) = UK_Europe_High_Adopters_Basic_Users * (1 + UK_Europe_Population_Growth_Rate / 100)","Total_UK_Europe_High_Adopters_Premium_Users (#) = UK_Europe_High_Adopters_Premium_Users * (1 + UK_Europe_Population_Growth_Rate / 100)","Total_Middle_East_Africa_Low_Adopters_Basic_Users (#) = Middle_East_Africa_Low_Adopters_Basic_Users * (1 + Middle_East_Africa_Population_Growth_Rate / 100)","Total_Middle_East_Africa_Low_Adopters_Premium_Users (#) = Middle_East_Africa_Low_Adopters_Premium_Users * (1 + Middle_East_Africa_Population_Growth_Rate / 100)","Total_Middle_East_Africa_Medium_Adopters_Basic_Users (#) = Middle_East_Africa_Medium_Adopters_Basic_Users * (1 + Middle_East_Africa_Population_Growth_Rate / 100)","Total_Middle_East_Africa_Medium_Adopters_Premium_Users (#) = Middle_East_Africa_Medium_Adopters_Premium_Users * (1 + Middle_East_Africa_Population_Growth_Rate / 100)","Total_Middle_East_Africa_High_Adopters_Basic_Users (#) = Middle_East_Africa_High_Adopters_Basic_Users * (1 + Middle_East_Africa_Population_Growth_Rate / 100)","Total_Middle_East_Africa_High_Adopters_Premium_Users (#) = Middle_East_Africa_High_Adopters_Premium_Users * (1 + Middle_East_Africa_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Low_Adopters_Basic_Users (#) = Indian_Subcontinent_Low_Adopters_Basic_Users * (1 + Indian_Subcontinent_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Low_Adopters_Premium_Users (#) = Indian_Subcontinent_Low_Adopters_Premium_Users * (1 + Indian_Subcontinent_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Medium_Adopters_Basic_Users (#) = Indian_Subcontinent_Medium_Adopters_Basic_Users * (1 + Indian_Subcontinent_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Medium_Adopters_Premium_Users (#) = Indian_Subcontinent_Medium_Adopters_Premium_Users * (1 + Indian_Subcontinent_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_High_Adopters_Basic_Users (#) = Indian_Subcontinent_High_Adopters_Basic_Users * (1 + Indian_Subcontinent_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_High_Adopters_Premium_Users (#) = Indian_Subcontinent_High_Adopters_Premium_Users * (1 + Indian_Subcontinent_Population_Growth_Rate / 100)"],"Step_3:_Company_market_share":["UK_Europe_Low_Adopters_Basic_Addressable_Market (#) = Total_UK_Europe_Low_Adopters_Basic_Users * UK_Europe_Low_Adopters_Basic_Market_Share / 100","UK_Europe_Low_Adopters_Premium_Addressable_Market (#) = Total_UK_Europe_Low_Adopters_Premium_Users * UK_Europe_Low_Adopters_Premium_Market_Share / 100","UK_Europe_Medium_Adopters_Basic_Addressable_Market (#) = Total_UK_Europe_Medium_Adopters_Basic_Users * UK_Europe_Medium_Adopters_Basic_Market_Share / 100","UK_Europe_Medium_Adopters_Premium_Addressable_Market (#) = Total_UK_Europe_Medium_Adopters_Premium_Users * UK_Europe_Medium_Adopters_Premium_Market_Share / 100","UK_Europe_High_Adopters_Basic_Addressable_Market (#) = Total_UK_Europe_High_Adopters_Basic_Users * UK_Europe_High_Adopters_Basic_Market_Share / 100","UK_Europe_High_Adopters_Premium_Addressable_Market (#) = Total_UK_Europe_High_Adopters_Premium_Users * UK_Europe_High_Adopters_Premium_Market_Share / 100","Middle_East_Africa_Low_Adopters_Basic_Addressable_Market (#) = Total_Middle_East_Africa_Low_Adopters_Basic_Users * Middle_East_Africa_Low_Adopters_Basic_Market_Share / 100","Middle_East_Africa_Low_Adopters_Premium_Addressable_Market (#) = Total_Middle_East_Africa_Low_Adopters_Premium_Users * Middle_East_Africa_Low_Adopters_Premium_Market_Share / 100","Middle_East_Africa_Medium_Adopters_Basic_Addressable_Market (#) = Total_Middle_East_Africa_Medium_Adopters_Basic_Users * Middle_East_Africa_Medium_Adopters_Basic_Market_Share / 100","Middle_East_Africa_Medium_Adopters_Premium_Addressable_Market (#) = Total_Middle_East_Africa_Medium_Adopters_Premium_Users * Middle_East_Africa_Medium_Adopters_Premium_Market_Share / 100","Middle_East_Africa_High_Adopters_Basic_Addressable_Market (#) = Total_Middle_East_Africa_High_Adopters_Basic_Users * Middle_East_Africa_High_Adopters_Basic_Market_Share / 100","Middle_East_Africa_High_Adopters_Premium_Addressable_Market (#) = Total_Middle_East_Africa_High_Adopters_Premium_Users * Middle_East_Africa_High_Adopters_Premium_Market_Share / 100","Indian_Subcontinent_Low_Adopters_Basic_Addressable_Market (#) = Total_Indian_Subcontinent_Low_Adopters_Basic_Users * Indian_Subcontinent_Low_Adopters_Basic_Market_Share / 100","Indian_Subcontinent_Low_Adopters_Premium_Addressable_Market (#) = Total_Indian_Subcontinent_Low_Adopters_Premium_Users * Indian_Subcontinent_Low_Adopters_Premium_Market_Share / 100","Indian_Subcontinent_Medium_Adopters_Basic_Addressable_Market (#) = Total_Indian_Subcontinent_Medium_Adopters_Basic_Users * Indian_Subcontinent_Medium_Adopters_Basic_Market_Share / 100","Indian_Subcontinent_Medium_Adopters_Premium_Addressable_Market (#) = Total_Indian_Subcontinent_Medium_Adopters_Premium_Users * Indian_Subcontinent_Medium_Adopters_Premium_Market_Share / 100","Indian_Subcontinent_High_Adopters_Basic_Addressable_Market (#) = Total_Indian_Subcontinent_High_Adopters_Basic_Users * Indian_Subcontinent_High_Adopters_Basic_Market_Share / 100","Indian_Subcontinent_High_Adopters_Premium_Addressable_Market (#) = Total_Indian_Subcontinent_High_Adopters_Premium_Users * Indian_Subcontinent_High_Adopters_Premium_Market_Share / 100"],"Step_4:_Factor_gains_and_losses_of_customers_from_and_to_competitors":["UK_Europe_Low_Adopters_Basic_Churn (#) = UK_Europe_Low_Adopters_Basic_Addressable_Market * UK_Europe_Low_Adopters_Basic_Churn_Rate / 100","UK_Europe_Low_Adopters_Premium_Churn (#) = UK_Europe_Low_Adopters_Premium_Addressable_Market * UK_Europe_Low_Adopters_Premium_Churn_Rate / 100","UK_Europe_Medium_Adopters_Basic_Churn (#) = UK_Europe_Medium_Adopters_Basic_Addressable_Market * UK_Europe_Medium_Adopters_Basic_Churn_Rate / 100","UK_Europe_Medium_Adopters_Premium_Churn (#) = UK_Europe_Medium_Adopters_Premium_Addressable_Market * UK_Europe_Medium_Adopters_Premium_Churn_Rate / 100","UK_Europe_High_Adopters_Basic_Churn (#) = UK_Europe_High_Adopters_Basic_Addressable_Market * UK_Europe_High_Adopters_Basic_Churn_Rate / 100","UK_Europe_High_Adopters_Premium_Churn (#) = UK_Europe_High_Adopters_Premium_Addressable_Market * UK_Europe_High_Adopters_Premium_Churn_Rate / 100","Middle_East_Africa_Low_Adopters_Basic_Churn (#) = Middle_East_Africa_Low_Adopters_Basic_Addressable_Market * Middle_East_Africa_Low_Adopters_Basic_Churn_Rate / 100","Middle_East_Africa_Low_Adopters_Premium_Churn (#) = Middle_East_Africa_Low_Adopters_Premium_Addressable_Market * Middle_East_Africa_Low_Adopters_Premium_Churn_Rate / 100","Middle_East_Africa_Medium_Adopters_Basic_Churn (#) = Middle_East_Africa_Medium_Adopters_Basic_Addressable_Market * Middle_East_Africa_Medium_Adopters_Basic_Churn_Rate / 100","Middle_East_Africa_Medium_Adopters_Premium_Churn (#) = Middle_East_Africa_Medium_Adopters_Premium_Addressable_Market * Middle_East_Africa_Medium_Adopters_Premium_Churn_Rate / 100","Middle_East_Africa_High_Adopters_Basic_Churn (#) = Middle_East_Africa_High_Adopters_Basic_Addressable_Market * Middle_East_Africa_High_Adopters_Basic_Churn_Rate / 100","Middle_East_Africa_High_Adopters_Premium_Churn (#) = Middle_East_Africa_High_Adopters_Premium_Addressable_Market * Middle_East_Africa_High_Adopters_Premium_Churn_Rate / 100","Indian_Subcontinent_Low_Adopters_Basic_Churn (#) = Indian_Subcontinent_Low_Adopters_Basic_Addressable_Market * Indian_Subcontinent_Low_Adopters_Basic_Churn_Rate / 100","Indian_Subcontinent_Low_Adopters_Premium_Churn (#) = Indian_Subcontinent_Low_Adopters_Premium_Addressable_Market * Indian_Subcontinent_Low_Adopters_Premium_Churn_Rate / 100","Indian_Subcontinent_Medium_Adopters_Basic_Churn (#) = Indian_Subcontinent_Medium_Adopters_Basic_Addressable_Market * Indian_Subcontinent_Medium_Adopters_Basic_Churn_Rate / 100","Indian_Subcontinent_Medium_Adopters_Premium_Churn (#) = Indian_Subcontinent_Medium_Adopters_Premium_Addressable_Market * Indian_Subcontinent_Medium_Adopters_Premium_Churn_Rate / 100","Indian_Subcontinent_High_Adopters_Basic_Churn (#) = Indian_Subcontinent_High_Adopters_Basic_Addressable_Market * Indian_Subcontinent_High_Adopters_Basic_Churn_Rate / 100","Indian_Subcontinent_High_Adopters_Premium_Churn (#) = Indian_Subcontinent_High_Adopters_Premium_Addressable_Market * Indian_Subcontinent_High_Adopters_Premium_Churn_Rate / 100"],"Step_5:_Total_user_base":["UK_Europe_Low_Adopters_Basic_Users_Final (#) = UK_Europe_Low_Adopters_Basic_Addressable_Market - UK_Europe_Low_Adopters_Basic_Churn","UK_Europe_Low_Adopters_Premium_Users_Final (#) = UK_Europe_Low_Adopters_Premium_Addressable_Market - UK_Europe_Low_Adopters_Premium_Churn","UK_Europe_Medium_Adopters_Basic_Users_Final (#) = UK_Europe_Medium_Adopters_Basic_Addressable_Market - UK_Europe_Medium_Adopters_Basic_Churn","UK_Europe_Medium_Adopters_Premium_Users_Final (#) = UK_Europe_Medium_Adopters_Premium_Addressable_Market - UK_Europe_Medium_Adopters_Premium_Churn","UK_Europe_High_Adopters_Basic_Users_Final (#) = UK_Europe_High_Adopters_Basic_Addressable_Market - UK_Europe_High_Adopters_Basic_Churn","UK_Europe_High_Adopters_Premium_Users_Final (#) = UK_Europe_High_Adopters_Premium_Addressable_Market - UK_Europe_High_Adopters_Premium_Churn","Middle_East_Africa_Low_Adopters_Basic_Users_Final (#) = Middle_East_Africa_Low_Adopters_Basic_Addressable_Market - Middle_East_Africa_Low_Adopters_Basic_Churn","Middle_East_Africa_Low_Adopters_Premium_Users_Final (#) = Middle_East_Africa_Low_Adopters_Premium_Addressable_Market - Middle_East_Africa_Low_Adopters_Premium_Churn","Middle_East_Africa_Medium_Adopters_Basic_Users_Final (#) = Middle_East_Africa_Medium_Adopters_Basic_Addressable_Market - Middle_East_Africa_Medium_Adopters_Basic_Churn","Middle_East_Africa_Medium_Adopters_Premium_Users_Final (#) = Middle_East_Africa_Medium_Adopters_Premium_Addressable_Market - Middle_East_Africa_Medium_Adopters_Premium_Churn","Middle_East_Africa_High_Adopters_Basic_Users_Final (#) = Middle_East_Africa_High_Adopters_Basic_Addressable_Market - Middle_East_Africa_High_Adopters_Basic_Churn","Middle_East_Africa_High_Adopters_Premium_Users_Final (#) = Middle_East_Africa_High_Adopters_Premium_Addressable_Market - Middle_East_Africa_High_Adopters_Premium_Churn","Indian_Subcontinent_Low_Adopters_Basic_Users_Final (#) = Indian_Subcontinent_Low_Adopters_Basic_Addressable_Market - Indian_Subcontinent_Low_Adopters_Basic_Churn","Indian_Subcontinent_Low_Adopters_Premium_Users_Final (#) = Indian_Subcontinent_Low_Adopters_Premium_Addressable_Market - Indian_Subcontinent_Low_Adopters_Premium_Churn","Indian_Subcontinent_Medium_Adopters_Basic_Users_Final (#) = Indian_Subcontinent_Medium_Adopters_Basic_Addressable_Market - Indian_Subcontinent_Medium_Adopters_Basic_Churn","Indian_Subcontinent_Medium_Adopters_Premium_Users_Final (#) = Indian_Subcontinent_Medium_Adopters_Premium_Addressable_Market - Indian_Subcontinent_Medium_Adopters_Premium_Churn","Indian_Subcontinent_High_Adopters_Basic_Users_Final (#) = Indian_Subcontinent_High_Adopters_Basic_Addressable_Market - Indian_Subcontinent_High_Adopters_Basic_Churn","Indian_Subcontinent_High_Adopters_Premium_Users_Final (#) = Indian_Subcontinent_High_Adopters_Premium_Addressable_Market - Indian_Subcontinent_High_Adopters_Premium_Churn","Total_Basic_Users (#) = UK_Europe_Low_Adopters_Basic_Users_Final + UK_Europe_Medium_Adopters_Basic_Users_Final + UK_Europe_High_Adopters_Basic_Users_Final + Middle_East_Africa_Low_Adopters_Basic_Users_Final + Middle_East_Africa_Medium_Adopters_Basic_Users_Final + Middle_East_Africa_High_Adopters_Basic_Users_Final + Indian_Subcontinent_Low_Adopters_Basic_Users_Final + Indian_Subcontinent_Medium_Adopters_Basic_Users_Final + Indian_Subcontinent_High_Adopters_Basic_Users_Final","Total_Premium_Users (#) = UK_Europe_Low_Adopters_Premium_Users_Final + UK_Europe_Medium_Adopters_Premium_Users_Final + UK_Europe_High_Adopters_Premium_Users_Final + Middle_East_Africa_Low_Adopters_Premium_Users_Final + Middle_East_Africa_Medium_Adopters_Premium_Users_Final + Middle_East_Africa_High_Adopters_Premium_Users_Final + Indian_Subcontinent_Low_Adopters_Premium_Users_Final + Indian_Subcontinent_Medium_Adopters_Premium_Users_Final + Indian_Subcontinent_High_Adopters_Premium_Users_Final","Total_User_Base (#) = Total_Basic_Users + Total_Premium_Users"]}
# #assumptions =  {"UK_Europe_Population":748000000,"Middle_East_Africa_Population":1800000000,"Indian_Subcontinent_Population":2000000000,"UK_Europe_AI_Non_Adopters_Share (%)":40,"UK_Europe_AI_Low_Adopters_Share (%)":35,"UK_Europe_AI_Medium_Adopters_Share (%)":20,"UK_Europe_AI_High_Adopters_Share (%)":5,"Middle_East_Africa_AI_Non_Adopters_Share (%)":60,"Middle_East_Africa_AI_Low_Adopters_Share (%)":25,"Middle_East_Africa_AI_Medium_Adopters_Share (%)":12,"Middle_East_Africa_AI_High_Adopters_Share (%)":3,"Indian_Subcontinent_AI_Non_Adopters_Share (%)":70,"Indian_Subcontinent_AI_Low_Adopters_Share (%)":20,"Indian_Subcontinent_AI_Medium_Adopters_Share (%)":8,"Indian_Subcontinent_AI_High_Adopters_Share (%)":2,"Low_Adopters_Basic_Subscription_Rate (%)":3,"Low_Adopters_Premium_Subscription_Rate (%)":2,"Medium_Adopters_Basic_Subscription_Rate (%)":15,"Medium_Adopters_Premium_Subscription_Rate (%)":10,"High_Adopters_Basic_Subscription_Rate (%)":25,"High_Adopters_Premium_Subscription_Rate (%)":35,"UK_Europe_Population_Growth_Rate (%)":2.3,"Middle_East_Africa_Population_Growth_Rate (%)":2.8,"Indian_Subcontinent_Population_Growth_Rate (%)":2.5,"UK_Europe_Low_Adopters_Basic_Market_Share (%)":2.5,"UK_Europe_Low_Adopters_Premium_Market_Share (%)":3.5,"UK_Europe_Medium_Adopters_Basic_Market_Share (%)":6,"UK_Europe_Medium_Adopters_Premium_Market_Share (%)":8,"UK_Europe_High_Adopters_Basic_Market_Share (%)":12,"UK_Europe_High_Adopters_Premium_Market_Share (%)":15,"Middle_East_Africa_Low_Adopters_Basic_Market_Share (%)":1.5,"Middle_East_Africa_Low_Adopters_Premium_Market_Share (%)":2.5,"Middle_East_Africa_Medium_Adopters_Basic_Market_Share (%)":4,"Middle_East_Africa_Medium_Adopters_Premium_Market_Share (%)":5,"Middle_East_Africa_High_Adopters_Basic_Market_Share (%)":10,"Middle_East_Africa_High_Adopters_Premium_Market_Share (%)":12,"Indian_Subcontinent_Low_Adopters_Basic_Market_Share (%)":1,"Indian_Subcontinent_Low_Adopters_Premium_Market_Share (%)":2,"Indian_Subcontinent_Medium_Adopters_Basic_Market_Share (%)":3,"Indian_Subcontinent_Medium_Adopters_Premium_Market_Share (%)":4,"Indian_Subcontinent_High_Adopters_Basic_Market_Share (%)":8,"Indian_Subcontinent_High_Adopters_Premium_Market_Share (%)":10,"UK_Europe_Low_Adopters_Basic_Churn_Rate (%)":15,"UK_Europe_Low_Adopters_Premium_Churn_Rate (%)":12,"UK_Europe_Medium_Adopters_Basic_Churn_Rate (%)":10,"UK_Europe_Medium_Adopters_Premium_Churn_Rate (%)":8,"UK_Europe_High_Adopters_Basic_Churn_Rate (%)":5,"UK_Europe_High_Adopters_Premium_Churn_Rate (%)":3,"Middle_East_Africa_Low_Adopters_Basic_Churn_Rate (%)":18,"Middle_East_Africa_Low_Adopters_Premium_Churn_Rate (%)":15,"Middle_East_Africa_Medium_Adopters_Basic_Churn_Rate (%)":12,"Middle_East_Africa_Medium_Adopters_Premium_Churn_Rate (%)":10,"Middle_East_Africa_High_Adopters_Basic_Churn_Rate (%)":6,"Middle_East_Africa_High_Adopters_Premium_Churn_Rate (%)":4,"Indian_Subcontinent_Low_Adopters_Basic_Churn_Rate (%)":20,"Indian_Subcontinent_Low_Adopters_Premium_Churn_Rate (%)":18,"Indian_Subcontinent_Medium_Adopters_Basic_Churn_Rate (%)":15,"Indian_Subcontinent_Medium_Adopters_Premium_Churn_Rate (%)":12,"Indian_Subcontinent_High_Adopters_Basic_Churn_Rate (%)":8,"Indian_Subcontinent_High_Adopters_Premium_Churn_Rate (%)":6}
# user_input = "update it"
# user_description =  "I want to open a competitor for OpenAI which provides 2 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model, and want to have the model for 5 years straight, starting from 2026 January. I want to operate in both India, Dubai and London"

# description_payload = {
#     "formula":f"""{formula}""",
#     "assumptions":f"""{assumptions}""",
#     "user_input":"make the formula compact",#"Make the formula compact and keep only most important components",
#     "user_description":"I want to open a competitor for OpenAI which provides 4 LLM subscriptions. I want to build a financial model which tests the feasibility and the overall return of this. I want to structure the model per subscription model. I want to operate in both India, Dubai and London",
# }

# description_response7 = requests.post(
#     f"{BASE_URL}/update_user_base_ass_formula",
#     json=description_payload,
#     proxies=proxies
# )

# print("\nResponse from /update_user_base_ass_formula")
# out = json.loads(description_response7.text)
# print(out['formula'])
# print(out['assumptions'])
# pdb.set_trace()
# import requests
# #from pydantic import BaseModel
# import pdb
# import json

# #class DescriptionRequest(BaseModel):
# #    user_description: str

# # Base URL of your FastAPI app
# BASE_URL = "http://10.112.115.25:8000"  # Change this if your app is hosted elsewhere

# proxies = {
#     "http": None,
#     "https": None
# }

# from typing import Dict, List
# from datetime import datetime
# from openai import OpenAI
# import anthropic
# import json
# import httpx
# import re
# import logging
# import pandas as pd
# import numpy as np
# logger = logging.getLogger(__name__)


# client = anthropic.Anthropic(api_key=, http_client=httpx.Client(verify=False))




# def generate_user_base_assumption_formula_update_prompt(formula, assumption, user_input, product_description):
#     prompt =f"""You are an expert in Financial Modeling and User Base Estimation. Your task is to revise an existing five-step formula used to compute the user base. The revised formula must reflect the instruction provided by the user: {user_input}.

#     Modify based strictly on the following user Instruction: {user_input}
#     Inputs:
#     - Assumptions: {assumption}
#     - Original Formula: {formula}
#     - financial situations Context: {product_description}

#     ##Instructions
#     1. Revise the formula and parameter list based strictly on the provided instruction ({user_input}).
#     2. Maintain a **five-step computation process**, as in the original formula.
#     3. If the instructions ({user_input}) are unclear, imprecise, or not explicitly actionable, do not modify the steps, return them exactly as provided, following the output format.  
#     4. Each step should:
#     - Clearly define and compute intermediate values.
#     - Must Use only numeric values from "assumption"
#     - Use only mathematical operations: +, -, *, /, %, etc.
#     5. Avoid using specific years, months, or date-based variable names.
#     6. Ensure the formula calculates for the **entire period in one go** (not broken into time-based subperiods).
#     7. If geography is involved (e.g., continents), only include those relevant to the operational countries.
#     8. Each formula must be accompanied by a **well-defined unit** on the left-hand side (e.g., "User_base (#)").
#     9. Do **not** add any explanations, commentary, or extra text.
#     10. Make sure sure step 5 last line **Total User Base** is constituents of all the sub user base components
#     Output Format:
#     - Respond in **valid JSON**.
#     - Structure the response as:
#     - "parameters": A cleaned and updated parameter list based on the revised formula.
#     - "formula": A dictionary with 5 clearly labeled steps, showing computations using updated parameters.

#     Example Output:
#     Example Output format:
#         {{ "assumptions":{{
#             "Total_Population" : 4000000,
#             "households_per_population" : 4,
#             "High_income_share (%)":25,
#             "Mid_income_share (%)":35,
#             "Low_income_share (%)": 40, 
#             "high_income_dogs_per_household": 2.5,
#             "Mid_income_dogs_per_household": 1.25,
#             "low_income_dogs_per_household": 0.75, 
#             "household_growth_rate": 1.75,
#             "market_share"= 26,
#             "High_Income_Churn_per_annum (%)":12, 
#             "Mid_Income_Churn_per_annum (%)":8, 
#             "Low_Income_Churn_per_annum (%)":6,                   
#         }}
#         "formula": {{
#     "Step 1: Identify the size of the population in scope":[ "Number_of_Households_of_Dubai (#) = Total_Population / households_per_population","High_Income_segment (#) = Number_of_Households_of_Dubai * High_income_share/100 * high_income_dogs_per_household", "Medium_Income_segment (#) = Number_of_Households_of_Dubai * Mid_income_share /100 * Mid_income_dogs_per_household",
#     "Low_Income_segment (#) = Number_of_Households_of_Dubai * Low_income_share/100 * low_income_dogs_per_household"],
#     "Step 2: Identify the growth rate of the segment":[ Total_High_Income_segment (#) = High_Income_segment * (1 + Household_growth_rate /100) , Total_Mid_Income_segment (#) = Mid_Income_segment * (1 + Household_growth_rate /100),
#     Total_Low_Income_segment (#) = Low_Income_segment * (1 + Household_growth_rate /100)] 
#     "Step 3: Company market share":[High_Income_segment_addressable_market (#) = Total_High_Income_segment * (market_share / 100), Mid_Income_segment_addressable_market (#) = Total_Mid_Income_segment * (market_share / 100),
#     Low_Income_segment_addressable_market (#) = Total_Low_Income_segment * (market_share / 100)]
#     "Step 4: Factor gains and losses of customers from and to competitors":[ "High_income_loss (#) = High_Income_segment_addressable_market * High_Income_Churn_per_annum/100",
#     "Mid_income_loss (#) = Mid_Income_segment_addressable_market * Mid_Income_Churn_per_annum/100",
#     "Low_income_loss (#) = Low_Income_segment_addressable_market * Low_Income_Churn_per_annum/100"]
#     "Step 5: Total User base":["High_Income_segment (#) = High_Income_segment_addressable_market - High_income_Loss"
#     "Mid_Income_segment (#) = Mid_Income_segment_addressable_market - Mid_income_loss"
#     "Low_Income_segment (#) = Low_Income_segment_addressable_market - Low_income_loss"
#     "Total_user_base (#) = Low_Income_segment + Mid_Income_segment + High_Income_segment"]}}
#     }}
#     """
#     return prompt


# def get_user_base_assumptions_formula_update_response(formula, assumptions, user_input, user_description):
#     prompt = generate_user_base_assumption_formula_update_prompt(formula, assumptions, user_input, user_description)

#     try: 
#         response = client.messages.create(
#             model="claude-sonnet-4-20250514",
#             max_tokens=10000,
#             messages=[{"role": "user", "content": prompt}]
#         )

#         # Check if the response is empty
#         if not response.content :
#             print(f"No updated content returned during update user base formula")
#             return None

#         # Ensure the response content is handled whether it's a list or a string
#         if isinstance(response.content, list):
#             # Access the actual text in the list of TextBlock objects
#             response_text = response.content[0].text if response.content else None
#             #print(f'the response text in function is {response_text} ')

#         elif isinstance(response.content, str):
#             response_text = response.content.strip()
#             #print(f"response text if string {response_text}")

#         else:
#             print(f"Unexpected response format")
#             return None

#         # Ensure the response content is a valid JSON string
#         if  not response_text or response_text == "":
#             print(f"Empty or invalid response received ")
#             return None

#         # Parse the response as JSON
#         try:
#             # Clean up response text by removing markdown code block markers
#             cleaned_text = re.sub(r'```(json)?\n?', '', response_text)
            
#             # Extract JSON object from response
#             json_match = re.search(r'\{.*\}', cleaned_text, re.DOTALL)
#             if not json_match:
#                 print("Error: Could not find valid JSON in response")
#                 return None
                
#             # Parse the JSON data
#             parsed_data = json.loads(json_match.group(0))
#             print("Successfully parsed user base analysis data")

#             # Validate required data structure
#             if 'assumptions' not in parsed_data or 'formula' not in parsed_data:
#                 print("Error: Missing required sections in user base analysis")
#                 return None

#             # Return the final structured analysis
#             return {
#                 "assumptions": parsed_data["assumptions"], 
#                 "formula": parsed_data["formula"]
#             }

#         except json.JSONDecodeError as e:
#             print(f"Error parsing JSON in update user base formula: {e}")
#             return None

#     except Exception as e:
#         print(f"Error fetching or parsing response from update user base formula")
#         return None


# out =get_user_base_assumptions_formula_update_response(formula, assumptions, user_input, user_description)
# pdb.set_trace()
# print(out)


'''
formula= {"Step 1: Identify the size of the population in scope":["Indian_Subcontinent_Internet_Users = India_Total_Population * India_Internet_Penetration / 100","Indian_Subcontinent_High_Income_AI_Adopters = Indian_Subcontinent_Internet_Users * India_High_Income_Share / 100 * High_Income_AI_Adoption_Rate / 100","Indian_Subcontinent_Mid_Income_AI_Adopters = Indian_Subcontinent_Internet_Users * India_Mid_Income_Share / 100 * Mid_Income_AI_Adoption_Rate / 100","Indian_Subcontinent_Low_Income_AI_Adopters = Indian_Subcontinent_Internet_Users * India_Low_Income_Share / 100 * Low_Income_AI_Adoption_Rate / 100","Middle_East_Africa_Internet_Users = UAE_Total_Population * UAE_Internet_Penetration / 100","Middle_East_Africa_High_Income_AI_Adopters = Middle_East_Africa_Internet_Users * UAE_High_Income_Share / 100 * High_Income_AI_Adoption_Rate / 100","Middle_East_Africa_Mid_Income_AI_Adopters = Middle_East_Africa_Internet_Users * UAE_Mid_Income_Share / 100 * Mid_Income_AI_Adoption_Rate / 100","Middle_East_Africa_Low_Income_AI_Adopters = Middle_East_Africa_Internet_Users * UAE_Low_Income_Share / 100 * Low_Income_AI_Adoption_Rate / 100","UK_Europe_Internet_Users = UK_Total_Population * UK_Internet_Penetration / 100","UK_Europe_High_Income_AI_Adopters = UK_Europe_Internet_Users * UK_High_Income_Share / 100 * High_Income_AI_Adoption_Rate / 100","UK_Europe_Mid_Income_AI_Adopters = UK_Europe_Internet_Users * UK_Mid_Income_Share / 100 * Mid_Income_AI_Adoption_Rate / 100","UK_Europe_Low_Income_AI_Adopters = UK_Europe_Internet_Users * UK_Low_Income_Share / 100 * Low_Income_AI_Adoption_Rate / 100","Indian_Subcontinent_Small_Enterprise_Seats = India_Enterprise_Count * Small_Enterprise_Share / 100 * Small_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Small_Enterprise","Indian_Subcontinent_Medium_Enterprise_Seats = India_Enterprise_Count * Medium_Enterprise_Share / 100 * Medium_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Medium_Enterprise","Indian_Subcontinent_Large_Enterprise_Seats = India_Enterprise_Count * Large_Enterprise_Share / 100 * Large_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Large_Enterprise","Middle_East_Africa_Small_Enterprise_Seats = UAE_Enterprise_Count * Small_Enterprise_Share / 100 * Small_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Small_Enterprise","Middle_East_Africa_Medium_Enterprise_Seats = UAE_Enterprise_Count * Medium_Enterprise_Share / 100 * Medium_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Medium_Enterprise","Middle_East_Africa_Large_Enterprise_Seats = UAE_Enterprise_Count * Large_Enterprise_Share / 100 * Large_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Large_Enterprise","UK_Europe_Small_Enterprise_Seats = UK_Enterprise_Count * Small_Enterprise_Share / 100 * Small_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Small_Enterprise","UK_Europe_Medium_Enterprise_Seats = UK_Enterprise_Count * Medium_Enterprise_Share / 100 * Medium_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Medium_Enterprise","UK_Europe_Large_Enterprise_Seats = UK_Enterprise_Count * Large_Enterprise_Share / 100 * Large_Enterprise_AI_Adoption_Rate / 100 * Average_Seats_Per_Large_Enterprise"],"Step 2: Identify the growth rate of the segment":["Total_Indian_Subcontinent_High_Income_AI_Adopters = Indian_Subcontinent_High_Income_AI_Adopters * (1 + India_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Mid_Income_AI_Adopters = Indian_Subcontinent_Mid_Income_AI_Adopters * (1 + India_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Low_Income_AI_Adopters = Indian_Subcontinent_Low_Income_AI_Adopters * (1 + India_Population_Growth_Rate / 100)","Total_Middle_East_Africa_High_Income_AI_Adopters = Middle_East_Africa_High_Income_AI_Adopters * (1 + UAE_Population_Growth_Rate / 100)","Total_Middle_East_Africa_Mid_Income_AI_Adopters = Middle_East_Africa_Mid_Income_AI_Adopters * (1 + UAE_Population_Growth_Rate / 100)","Total_Middle_East_Africa_Low_Income_AI_Adopters = Middle_East_Africa_Low_Income_AI_Adopters * (1 + UAE_Population_Growth_Rate / 100)","Total_UK_Europe_High_Income_AI_Adopters = UK_Europe_High_Income_AI_Adopters * (1 + UK_Population_Growth_Rate / 100)","Total_UK_Europe_Mid_Income_AI_Adopters = UK_Europe_Mid_Income_AI_Adopters * (1 + UK_Population_Growth_Rate / 100)","Total_UK_Europe_Low_Income_AI_Adopters = UK_Europe_Low_Income_AI_Adopters * (1 + UK_Population_Growth_Rate / 100)","Total_Indian_Subcontinent_Small_Enterprise_Seats = Indian_Subcontinent_Small_Enterprise_Seats * (1 + India_Enterprise_Growth_Rate / 100)","Total_Indian_Subcontinent_Medium_Enterprise_Seats = Indian_Subcontinent_Medium_Enterprise_Seats * (1 + India_Enterprise_Growth_Rate / 100)","Total_Indian_Subcontinent_Large_Enterprise_Seats = Indian_Subcontinent_Large_Enterprise_Seats * (1 + India_Enterprise_Growth_Rate / 100)","Total_Middle_East_Africa_Small_Enterprise_Seats = Middle_East_Africa_Small_Enterprise_Seats * (1 + UAE_Enterprise_Growth_Rate / 100)","Total_Middle_East_Africa_Medium_Enterprise_Seats = Middle_East_Africa_Medium_Enterprise_Seats * (1 + UAE_Enterprise_Growth_Rate / 100)","Total_Middle_East_Africa_Large_Enterprise_Seats = Middle_East_Africa_Large_Enterprise_Seats * (1 + UAE_Enterprise_Growth_Rate / 100)","Total_UK_Europe_Small_Enterprise_Seats = UK_Europe_Small_Enterprise_Seats * (1 + UK_Enterprise_Growth_Rate / 100)","Total_UK_Europe_Medium_Enterprise_Seats = UK_Europe_Medium_Enterprise_Seats * (1 + UK_Enterprise_Growth_Rate / 100)","Total_UK_Europe_Large_Enterprise_Seats = UK_Europe_Large_Enterprise_Seats * (1 + UK_Enterprise_Growth_Rate / 100)"],"Step 3: Company market share":["Indian_Subcontinent_High_Income_Addressable_Market = Total_Indian_Subcontinent_High_Income_AI_Adopters * Indian_Subcontinent_High_Income_Market_Share / 100","Indian_Subcontinent_Mid_Income_Addressable_Market = Total_Indian_Subcontinent_Mid_Income_AI_Adopters * Indian_Subcontinent_Mid_Income_Market_Share / 100","Indian_Subcontinent_Low_Income_Addressable_Market = Total_Indian_Subcontinent_Low_Income_AI_Adopters * Indian_Subcontinent_Low_Income_Market_Share / 100","Middle_East_Africa_High_Income_Addressable_Market = Total_Middle_East_Africa_High_Income_AI_Adopters * Middle_East_Africa_High_Income_Market_Share / 100","Middle_East_Africa_Mid_Income_Addressable_Market = Total_Middle_East_Africa_Mid_Income_AI_Adopters * Middle_East_Africa_Mid_Income_Market_Share / 100","Middle_East_Africa_Low_Income_Addressable_Market = Total_Middle_East_Africa_Low_Income_AI_Adopters * Middle_East_Africa_Low_Income_Market_Share / 100","UK_Europe_High_Income_Addressable_Market = Total_UK_Europe_High_Income_AI_Adopters * UK_Europe_High_Income_Market_Share / 100","UK_Europe_Mid_Income_Addressable_Market = Total_UK_Europe_Mid_Income_AI_Adopters * UK_Europe_Mid_Income_Market_Share / 100","UK_Europe_Low_Income_Addressable_Market = Total_UK_Europe_Low_Income_AI_Adopters * UK_Europe_Low_Income_Market_Share / 100","Indian_Subcontinent_Small_Enterprise_Addressable_Seats = Total_Indian_Subcontinent_Small_Enterprise_Seats * Indian_Subcontinent_Small_Enterprise_Market_Share / 100","Indian_Subcontinent_Medium_Enterprise_Addressable_Seats = Total_Indian_Subcontinent_Medium_Enterprise_Seats * Indian_Subcontinent_Medium_Enterprise_Market_Share / 100","Indian_Subcontinent_Large_Enterprise_Addressable_Seats = Total_Indian_Subcontinent_Large_Enterprise_Seats * Indian_Subcontinent_Large_Enterprise_Market_Share / 100","Middle_East_Africa_Small_Enterprise_Addressable_Seats = Total_Middle_East_Africa_Small_Enterprise_Seats * Middle_East_Africa_Small_Enterprise_Market_Share / 100","Middle_East_Africa_Medium_Enterprise_Addressable_Seats = Total_Middle_East_Africa_Medium_Enterprise_Seats * Middle_East_Africa_Medium_Enterprise_Market_Share / 100","Middle_East_Africa_Large_Enterprise_Addressable_Seats = Total_Middle_East_Africa_Large_Enterprise_Seats * Middle_East_Africa_Large_Enterprise_Market_Share / 100","UK_Europe_Small_Enterprise_Addressable_Seats = Total_UK_Europe_Small_Enterprise_Seats * UK_Europe_Small_Enterprise_Market_Share / 100","UK_Europe_Medium_Enterprise_Addressable_Seats = Total_UK_Europe_Medium_Enterprise_Seats * UK_Europe_Medium_Enterprise_Market_Share / 100","UK_Europe_Large_Enterprise_Addressable_Seats = Total_UK_Europe_Large_Enterprise_Seats * UK_Europe_Large_Enterprise_Market_Share / 100"],"Step 4: Factor gains and losses of customers from and to competitors":["Indian_Subcontinent_High_Income_Churn = Indian_Subcontinent_High_Income_Addressable_Market * Indian_Subcontinent_High_Income_Churn_Rate / 100","Indian_Subcontinent_Mid_Income_Churn = Indian_Subcontinent_Mid_Income_Addressable_Market * Indian_Subcontinent_Mid_Income_Churn_Rate / 100","Indian_Subcontinent_Low_Income_Churn = Indian_Subcontinent_Low_Income_Addressable_Market * Indian_Subcontinent_Low_Income_Churn_Rate / 100","Middle_East_Africa_High_Income_Churn = Middle_East_Africa_High_Income_Addressable_Market * Middle_East_Africa_High_Income_Churn_Rate / 100","Middle_East_Africa_Mid_Income_Churn = Middle_East_Africa_Mid_Income_Addressable_Market * Middle_East_Africa_Mid_Income_Churn_Rate / 100","Middle_East_Africa_Low_Income_Churn = Middle_East_Africa_Low_Income_Addressable_Market * Middle_East_Africa_Low_Income_Churn_Rate / 100","UK_Europe_High_Income_Churn = UK_Europe_High_Income_Addressable_Market * UK_Europe_High_Income_Churn_Rate / 100","UK_Europe_Mid_Income_Churn = UK_Europe_Mid_Income_Addressable_Market * UK_Europe_Mid_Income_Churn_Rate / 100","UK_Europe_Low_Income_Churn = UK_Europe_Low_Income_Addressable_Market * UK_Europe_Low_Income_Churn_Rate / 100","Indian_Subcontinent_Small_Enterprise_Churn = Indian_Subcontinent_Small_Enterprise_Addressable_Seats * Indian_Subcontinent_Small_Enterprise_Churn_Rate / 100","Indian_Subcontinent_Medium_Enterprise_Churn = Indian_Subcontinent_Medium_Enterprise_Addressable_Seats * Indian_Subcontinent_Medium_Enterprise_Churn_Rate / 100","Indian_Subcontinent_Large_Enterprise_Churn = Indian_Subcontinent_Large_Enterprise_Addressable_Seats * Indian_Subcontinent_Large_Enterprise_Churn_Rate / 100","Middle_East_Africa_Small_Enterprise_Churn = Middle_East_Africa_Small_Enterprise_Addressable_Seats * Middle_East_Africa_Small_Enterprise_Churn_Rate / 100","Middle_East_Africa_Medium_Enterprise_Churn = Middle_East_Africa_Medium_Enterprise_Addressable_Seats * Middle_East_Africa_Medium_Enterprise_Churn_Rate / 100","Middle_East_Africa_Large_Enterprise_Churn = Middle_East_Africa_Large_Enterprise_Addressable_Seats * Middle_East_Africa_Large_Enterprise_Churn_Rate / 100","UK_Europe_Small_Enterprise_Churn = UK_Europe_Small_Enterprise_Addressable_Seats * UK_Europe_Small_Enterprise_Churn_Rate / 100","UK_Europe_Medium_Enterprise_Churn = UK_Europe_Medium_Enterprise_Addressable_Seats * UK_Europe_Medium_Enterprise_Churn_Rate / 100","UK_Europe_Large_Enterprise_Churn = UK_Europe_Large_Enterprise_Addressable_Seats * UK_Europe_Large_Enterprise_Churn_Rate / 100"],"Step 5: Total user base":["Indian_Subcontinent_High_Income_Users = Indian_Subcontinent_High_Income_Addressable_Market - Indian_Subcontinent_High_Income_Churn","Indian_Subcontinent_Mid_Income_Users = Indian_Subcontinent_Mid_Income_Addressable_Market - Indian_Subcontinent_Mid_Income_Churn","Indian_Subcontinent_Low_Income_Users = Indian_Subcontinent_Low_Income_Addressable_Market - Indian_Subcontinent_Low_Income_Churn","Middle_East_Africa_High_Income_Users = Middle_East_Africa_High_Income_Addressable_Market - Middle_East_Africa_High_Income_Churn","Middle_East_Africa_Mid_Income_Users = Middle_East_Africa_Mid_Income_Addressable_Market - Middle_East_Africa_Mid_Income_Churn","Middle_East_Africa_Low_Income_Users = Middle_East_Africa_Low_Income_Addressable_Market - Middle_East_Africa_Low_Income_Churn","UK_Europe_High_Income_Users = UK_Europe_High_Income_Addressable_Market - UK_Europe_High_Income_Churn","UK_Europe_Mid_Income_Users = UK_Europe_Mid_Income_Addressable_Market - UK_Europe_Mid_Income_Churn","UK_Europe_Low_Income_Users = UK_Europe_Low_Income_Addressable_Market - UK_Europe_Low_Income_Churn","Indian_Subcontinent_Small_Enterprise_Users = Indian_Subcontinent_Small_Enterprise_Addressable_Seats - Indian_Subcontinent_Small_Enterprise_Churn","Indian_Subcontinent_Medium_Enterprise_Users = Indian_Subcontinent_Medium_Enterprise_Addressable_Seats - Indian_Subcontinent_Medium_Enterprise_Churn","Indian_Subcontinent_Large_Enterprise_Users = Indian_Subcontinent_Large_Enterprise_Addressable_Seats - Indian_Subcontinent_Large_Enterprise_Churn","Middle_East_Africa_Small_Enterprise_Users = Middle_East_Africa_Small_Enterprise_Addressable_Seats - Middle_East_Africa_Small_Enterprise_Churn","Middle_East_Africa_Medium_Enterprise_Users = Middle_East_Africa_Medium_Enterprise_Addressable_Seats - Middle_East_Africa_Medium_Enterprise_Churn","Middle_East_Africa_Large_Enterprise_Users = Middle_East_Africa_Large_Enterprise_Addressable_Seats - Middle_East_Africa_Large_Enterprise_Churn","UK_Europe_Small_Enterprise_Users = UK_Europe_Small_Enterprise_Addressable_Seats - UK_Europe_Small_Enterprise_Churn","UK_Europe_Medium_Enterprise_Users = UK_Europe_Medium_Enterprise_Addressable_Seats - UK_Europe_Medium_Enterprise_Churn","UK_Europe_Large_Enterprise_Users = UK_Europe_Large_Enterprise_Addressable_Seats - UK_Europe_Large_Enterprise_Churn","Total_User_Base = Indian_Subcontinent_High_Income_Users + Indian_Subcontinent_Mid_Income_Users + Indian_Subcontinent_Low_Income_Users + Middle_East_Africa_High_Income_Users + Middle_East_Africa_Mid_Income_Users + Middle_East_Africa_Low_Income_Users + UK_Europe_High_Income_Users + UK_Europe_Mid_Income_Users + UK_Europe_Low_Income_Users + Indian_Subcontinent_Small_Enterprise_Users + Indian_Subcontinent_Medium_Enterprise_Users + Indian_Subcontinent_Large_Enterprise_Users + Middle_East_Africa_Small_Enterprise_Users + Middle_East_Africa_Medium_Enterprise_Users + Middle_East_Africa_Large_Enterprise_Users + UK_Europe_Small_Enterprise_Users + UK_Europe_Medium_Enterprise_Users + UK_Europe_Large_Enterprise_Users"]}

# SOlve user base equations..............................
description_payload = {
    "assumption_values":{'2025': ['', 5, 12, 5825400, 99.5, 14, 18, 410800, 16, 31, 19, 3, 48, 66625000, 520, 10280000, 85, 24, 1432200000, 96, 46, 52, 40, 50, 7, 68407000, 52, 30, 11, 52, 36, '', 3.1, 2.4, 3.0, 2.8, 2.3, 2.6, '', 7, 5, 25, 4, 12, 3, 2, 10, 10, 6, 18, 14, 7, 12, 10, 5, 20, 14, '', 13, 10, 9, 16, 6, 18, 10, 12, 7, 5, 8, 8, 8, 12, 14, 6, 10, 7, ''], '2026': ['', 5, 12, 5967208, 99.8, 13, 22, 423124, 17, 32, 18, 3, 46, 68490500, 540, 10598680, 85, 29, 1469472000, 97, 47, 54, 40, 50, 9, 69983610, 60, 36, 14, 58, 37, '', 3.4, 2.6, 3.3, 3.1, 2.5, 2.9, '', 8, 6, 28, 5, 14, 4, 3, 12, 12, 7, 21, 16, 8, 14, 12, 6, 22, 16, '', 11, 8, 7, 14, 5, 16, 8, 10, 6, 4, 6, 6, 6, 10, 12, 4, 8, 6, ''], '2027': ['', 5, 12, 6265766, 99.9, 11, 32, 447894, 19, 34, 16, 3, 42, 72142470, 580, 11224178, 85, 42, 1542926600, 98, 49, 58, 40, 50, 14, 73333000, 78, 48, 22, 72, 39, '', 4.2, 3.1, 4.0, 3.8, 3.0, 3.6, '', 11, 9, 35, 8, 19, 7, 6, 17, 17, 10, 28, 21, 11, 19, 17, 9, 27, 21, '', 8, 5, 4, 11, 3, 13, 5, 7, 4, 2, 3, 3, 3, 7, 9, 2, 5, 4, '']},
    "units":['', '#', '%', '#', '%', '%', '%', '#', '%', '%', '%', '%', '%', '#', '#', '#', '%', '%', '#', '%', '%', '#', '%', '%', '%', '#', '%', '%', '%', '%', '%', '', '%', '%', '%', '%', '%', '%', '', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', '%', ''],
    "currency":"USD",
    "formula":formula,
    "steps":['Step 1: Identify the size of the population in scope', 'Average_Seats_Per_Small_Enterprise', 'Medium_Enterprise_Share', 'UK_Enterprise_Count', 'UAE_Internet_Penetration', 'UAE_Low_Income_Share', 'Mid_Income_AI_Adoption_Rate', 'UAE_Enterprise_Count', 'India_High_Income_Share', 'UK_High_Income_Share', 'UK_Low_Income_Share', 'Large_Enterprise_Share', 'India_Low_Income_Share', 'India_Enterprise_Count', 'Average_Seats_Per_Large_Enterprise', 'UAE_Total_Population', 'Small_Enterprise_Share', 'Medium_Enterprise_AI_Adoption_Rate', 'India_Total_Population', 'UK_Internet_Penetration', 'UAE_Mid_Income_Share', 'Average_Seats_Per_Medium_Enterprise', 'UAE_High_Income_Share', 'UK_Mid_Income_Share', 'Low_Income_AI_Adoption_Rate', 'UK_Total_Population', 'Large_Enterprise_AI_Adoption_Rate', 'High_Income_AI_Adoption_Rate', 'Small_Enterprise_AI_Adoption_Rate', 'India_Internet_Penetration', 'India_Mid_Income_Share', 'Step 2: Identify the growth rate of the segment', 'UAE_Population_Growth_Rate', 'UK_Enterprise_Growth_Rate', 'UAE_Enterprise_Growth_Rate', 'India_Enterprise_Growth_Rate', 'UK_Population_Growth_Rate', 'India_Population_Growth_Rate', 'Step 3: Company market share', 'Middle_East_Africa_Small_Enterprise_Market_Share', 'Indian_Subcontinent_Medium_Enterprise_Market_Share', 'UK_Europe_Large_Enterprise_Market_Share', 'Indian_Subcontinent_Mid_Income_Market_Share', 'Middle_East_Africa_Medium_Enterprise_Market_Share', 'Indian_Subcontinent_Small_Enterprise_Market_Share', 'Indian_Subcontinent_Low_Income_Market_Share', 'Middle_East_Africa_Mid_Income_Market_Share', 'Indian_Subcontinent_Large_Enterprise_Market_Share', 'Indian_Subcontinent_High_Income_Market_Share', 'UK_Europe_High_Income_Market_Share', 'Middle_East_Africa_High_Income_Market_Share', 'UK_Europe_Low_Income_Market_Share', 'UK_Europe_Mid_Income_Market_Share', 'UK_Europe_Small_Enterprise_Market_Share', 'Middle_East_Africa_Low_Income_Market_Share', 'Middle_East_Africa_Large_Enterprise_Market_Share', 'UK_Europe_Medium_Enterprise_Market_Share', 'Step 4: Factor gains and losses of customers from and to competitors', 'Indian_Subcontinent_High_Income_Churn_Rate', 'UK_Europe_Low_Income_Churn_Rate', 'UK_Europe_Medium_Enterprise_Churn_Rate', 'Middle_East_Africa_High_Income_Churn_Rate', 'Middle_East_Africa_Large_Enterprise_Churn_Rate', 'UK_Europe_High_Income_Churn_Rate', 'Indian_Subcontinent_Mid_Income_Churn_Rate', 'Middle_East_Africa_Mid_Income_Churn_Rate', 'Indian_Subcontinent_Medium_Enterprise_Churn_Rate', 'Indian_Subcontinent_Large_Enterprise_Churn_Rate', 'Middle_East_Africa_Low_Income_Churn_Rate', 'Middle_East_Africa_Medium_Enterprise_Churn_Rate', 'Indian_Subcontinent_Small_Enterprise_Churn_Rate', 'UK_Europe_Small_Enterprise_Churn_Rate', 'UK_Europe_Mid_Income_Churn_Rate', 'Indian_Subcontinent_Low_Income_Churn_Rate', 'Middle_East_Africa_Small_Enterprise_Churn_Rate', 'UK_Europe_Large_Enterprise_Churn_Rate', 'Step 5: Total user base'],
}

user_base_compute = requests.post(
    f"{BASE_URL}/compute_user_base",
    json=description_payload,
    proxies=proxies
)

print("\nResponse from /user_base_compute.....................")
print(user_base_compute.text)

'''